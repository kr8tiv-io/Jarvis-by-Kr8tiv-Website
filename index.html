<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jarvis LifeOS — by kr8tiv AI</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Jarvis is not a chatbot. It's your LifeOS. Runs locally. Watches, learns, acts, and evolves — 24/7. Autonomous Solana trading + personal AI agent. Built by kr8tiv AI.">
    <meta name="keywords" content="Jarvis, LifeOS, kr8tiv AI, Solana trading bot, autonomous AI, local AI, open source AI, KR8TIV token">
    <meta name="author" content="kr8tiv AI">
    <meta name="robots" content="index, follow">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="tab.png">
    <link rel="apple-touch-icon" href="tab.png">

    <!-- Canonical -->
    <link rel="canonical" href="https://jarvislife.io/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jarvislife.io/">
    <meta property="og:title" content="Jarvis LifeOS — by kr8tiv AI">
    <meta property="og:description" content="Jarvis is not a chatbot. It's your LifeOS. Autonomous Solana trading + personal AI agent. Open source. Runs locally.">
    <meta property="og:image" content="https://jarvislife.io/social-share.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Jarvis LifeOS">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@kr8tivai">
    <meta name="twitter:title" content="Jarvis LifeOS — by kr8tiv AI">
    <meta name="twitter:description" content="Not a chatbot. Your LifeOS. Autonomous Solana trading + personal AI. Open source.">
    <meta name="twitter:image" content="https://jarvislife.io/social-share.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;500;700&family=Inter:wght@400;500;600&family=Press+Start+2P&display=swap"
        rel="stylesheet">
    <link href="https://api.fontshare.com/v2/css?f[]=clash-display@400,500,600,700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>

    <style>
        :root {
            /* Palette */
            --bg-dark: #0B0C0D;
            --text-white: #FFFFFF;
            --text-grey: #a0a0a0;
            --shutter-white: #FFFFFF;

            /* Lighting */
            --glow-white: 0 0 20px rgba(255, 255, 255, 0.4);
            --glow-btn: 0 0 15px rgba(255, 255, 255, 0.6);
            --glow-text: 0 0 10px rgba(255, 255, 255, 0.8);

            /* Fonts */
            --font-display: 'Clash Display', sans-serif;
            --font-body: 'DM Sans', sans-serif;

            /* Dimensions */
            --hero-height: 1100px;
            --split-padding: 160px;
            --section-gap: 120px;
        }

        /* --- SECTION STACKING CONTEXT (Mobile video bleed fix) --- */
        section {
            position: relative;
            z-index: 1;
            isolation: isolate;
            /* GPU compositing for section isolation — does NOT break
               GSAP pinning because transform is on the pinned element
               itself, not on a parent containing block. */
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
        }

        /* Prevent hero video bleed when GSAP pin-spacer is visible */
        .pin-spacer {
            background-color: inherit;
        }

        /* --- MOBILE VIDEO POP-THROUGH FIX --- */
        @media (max-width: 768px) {
            .viewport-layer {
                position: absolute;
                height: var(--hero-height);
                overflow: hidden;
            }

            /* Fade out (not visibility:hidden) when hero scrolls away */
            .viewport-layer.video-hidden {
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.3s ease;
            }

            /* Ensure all sections are opaque on mobile to prevent video bleed */
            .section-privacy {
                background-color: var(--bg-dark);
            }
        }

        /* --- GLOBAL H1 HOVER GLOW --- */
        /* Targets all major section headlines for a premium backlight effect */
        h1,
        h2,
        .hero-title,
        .split-headline,
        .solana-headline,
        .core-headline,
        .exec-headline,
        .univ-headline,
        .personal-headline,
        .privacy-headline,
        .public-headline,
        .token-headline,
        .roadmap-headline,
        .comm-headline,
        .final-headline {
            position: relative;
            z-index: 2;
            /* Ensures text stays sharp above glow */
        }

        h1::before,
        h2::before,
        .hero-title::before,
        .split-headline::before,
        .solana-headline::before,
        .core-headline::before,
        .exec-headline::before,
        .univ-headline::before,
        .personal-headline::before,
        .privacy-headline::before,
        .public-headline::before,
        .token-headline::before,
        .roadmap-headline::before,
        .comm-headline::before,
        .final-headline::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 140%;
            height: 140%;
            background: radial-gradient(circle, rgba(200, 220, 255, 0.4) 0%, rgba(255, 255, 255, 0) 70%);
            opacity: 0;
            z-index: -1;
            transition: opacity 0.4s ease;
            pointer-events: none;
            filter: blur(25px);
        }

        h1:hover::before,
        h2:hover::before,
        .hero-title:hover::before,
        .split-headline:hover::before,
        .solana-headline:hover::before,
        .core-headline:hover::before,
        .exec-headline:hover::before,
        .univ-headline:hover::before,
        .personal-headline:hover::before,
        .privacy-headline:hover::before,
        .token-headline:hover::before,
        .roadmap-headline:hover::before,
        .comm-headline:hover::before,
        .final-headline:hover::before {
            opacity: 0.8;
            /* Increased for visibility */
        }

        /* Dark Theme Specific Adjustments (Hero/Video bg) - Keep Pure White */
        .hero-title::before {
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 70%);
        }

        /* Video Card CSS (Section 2) */
        .card-video-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            border-radius: inherit;
            opacity: 0;
            /* Handled by GSAP */
            filter: grayscale(100%) contrast(1.1);
            /* B&W Default */
            transition: filter 0.6s ease;
            pointer-events: none;
            /* GPU layer containment for mobile */
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform: translate3d(0, 0, 0);
            -webkit-transform: translate3d(0, 0, 0);
            contain: layout paint;
        }

        .glass-card:hover .card-video-layer {
            filter: grayscale(0%) contrast(1.0);
            /* Color on Hover */
        }

        .card-video-layer video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.15;
            /* Subtle Texture */
        }

        /* Ensure content sits above video */
        .card-text,
        .unifier-text,
        .accent-line {
            position: relative;
            z-index: 2;
        }

        /* --- STAT GLYPHS (SECTION 3) --- */
        /* --- NANOBANANA GLYPH STYLES --- */
        .stat-glyph {
            display: block;
            width: 32px;
            height: 32px;
            margin: 0 auto 12px auto;
            stroke: #333;
            /* Base stroke color */
            fill: none;
            overflow: visible;
        }

        .stat-glyph .accent {
            stroke: #39FF14;
            opacity: 0.6;
        }

        /* --- PARTNER ECOSYSTEM LOCKUP --- */
        .ecosystem-lockup {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 8px;
        }

        .partner-chip {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 56px;
            height: 56px;
            /* UPGRADE: Solid white for better visibility against watermark */
            background: #FFFFFF;
            border: 1px solid rgba(0, 0, 0, 0.08);
            border-radius: 50%;
            /* UPGRADE: Stronger shadow for pop */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-decoration: none;
        }

        /* Inline SVG & Image Styling */
        .partner-chip svg,
        .partner-chip img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            transition: all 0.3s ease;
        }

        .partner-chip svg {
            fill: #333;
            /* Default dark grey */
        }

        /* Hover States */
        .partner-chip:hover {
            transform: translateY(-3px);
            border-color: rgba(46, 230, 140, 0.4);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }

        .partner-chip:hover svg,
        .partner-chip:hover img {
            transform: scale(1.1);
            /* NanoBanana motion polish */
        }

        .partner-chip:hover svg {
            fill: #000;
            /* Darken on hover */
        }

        /* Specific Brand Hover Colors (Optional Polish) */
        .partner-chip:hover .icon-solana {
            fill: #000;
        }

        .partner-chip:hover .icon-jup {
            fill: #39FF14;
        }

        /* Jarvis Green for Jup */
        .partner-chip:hover .icon-jito {
            fill: #000;
        }

        .partner-chip:hover .icon-ray {
            fill: #000;
        }

        .partner-chip:hover .icon-orca {
            fill: #000;
        }

        @media (max-width: 600px) {
            .partner-chip {
                width: 48px;
                height: 48px;
            }

            .partner-chip svg,
            .partner-chip img {
                width: 32px;
                height: 32px;
            }
        }

        /* Accent Elements */
        .scan-pulse,
        .ledger-fill,
        .orbit-dot,
        .ledger-dot {
            stroke: #39FF14;
            fill: #39FF14;
            /* For dots */
            filter: drop-shadow(0 0 3px rgba(57, 255, 20, 0.4));
            /* Premium faint glow */
        }

        /* Ensure strokes don't conflict with fill logic on dots */
        .orbit-dot,
        .ledger-dot {
            stroke: none;
        }

        /* Hover: Intensify Opacity on Wrapper */
        .feature-item:hover .stat-glyph {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .stat-glyph {
                width: 28px;
                height: 28px;
            }
        }

        /* -----------------------------------------------------------
           MANIFESTO MARQUEE (Pinned Scroll Gate)
        ----------------------------------------------------------- */
        .manifesto-section {
            position: relative;
            width: 100%;
            height: 100vh;
            background: #FFFFFF;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            z-index: 60;
        }

        /* Faint grid background to match theme */
        .manifesto-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                repeating-linear-gradient(0deg,
                    transparent,
                    transparent 59px,
                    rgba(0, 0, 0, 0.015) 60px),
                repeating-linear-gradient(90deg,
                    transparent,
                    transparent 59px,
                    rgba(0, 0, 0, 0.015) 60px);
            pointer-events: none;
            z-index: 0;
        }

        .manifesto-inner {
            position: relative;
            width: 100%;
            overflow: hidden;
            /* Edge fade mask */
            mask-image: linear-gradient(to right, transparent 0%, black 10%, black 90%, transparent 100%);
            -webkit-mask-image: linear-gradient(to right, transparent 0%, black 10%, black 90%, transparent 100%);
            z-index: 1;
        }

        .manifesto-track {
            display: flex;
            align-items: center;
            white-space: nowrap;
            will-change: transform;
            gap: 0.3em;
        }

        .manifesto-track .word {
            display: inline-flex;
            flex-shrink: 0;
        }

        .manifesto-track .letter {
            font-family: var(--font-display);
            font-size: clamp(96px, 20vw, 400px);
            font-weight: 500;
            color: #111;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            line-height: 1;
            display: inline-block;
            transition: all 0.3s ease;
            cursor: default;
            -webkit-text-stroke: 0px transparent;
        }

        .manifesto-track .letter:hover {
            color: transparent;
            -webkit-text-stroke: 2px #333;
        }

        .manifesto-track span {
            font-family: var(--font-display);
            font-size: clamp(96px, 20vw, 400px);
            font-weight: 500;
            color: #111;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            line-height: 1;
            flex-shrink: 0;
        }

        .manifesto-track .sep {
            color: #39FF14;
            opacity: 0.7;
            padding: 0 0.3em;
        }

        /* Screen reader only */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* MANIFESTO CANVAS (New Dynamic Background) */
        #manifesto-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            /* Behind content */
            pointer-events: none;
            opacity: 1;
            /* Full opacity, control in JS */
            mix-blend-mode: normal;
            /* Normal blending for dark on white */
        }

        /* Adjusted Spacing for "WAYS OPEN" Separation */
        .manifesto-track {
            gap: 8vw;
            /* Significantly increased for clear separation */
        }

        .manifesto-track .word {
            margin-right: 4vw;
            /* Additional separation between words */
        }

        .manifesto-track .sep {
            margin-left: 1vw;
            margin-right: 1vw;
        }

        /* Reduced motion: static display */
        @media (prefers-reduced-motion: reduce) {
            .manifesto-section {
                height: auto;
                padding: 80px 0;
            }

            .manifesto-track {
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
            }

            .manifesto-track span {
                font-size: clamp(24px, 6vw, 64px);
            }
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .manifesto-section {
                display: none;
            }

            .manifesto-track span,
            .manifesto-track .letter {
                font-size: clamp(220px, 55vw, 820px);
            }
        }

        /* -----------------------------------------------------------
           SECTION 3: SOLANA NATIVE
        ----------------------------------------------------------- */
        .section-solana {
            position: relative;
            z-index: 50;
            width: 100%;
            min-height: 80vh;
            background-color: #FFFFFF;
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            overflow: hidden;
        }

        /* Solana Section Bottom Fade */
        .section-solana::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            height: 5vh;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1));
            pointer-events: none;
            z-index: 10;
        }

        /* Solana Watermark */
        .solana-watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 560px;
            /* Reduced size (30% smaller) */
            height: 560px;

            /* Visibility & Blending */
            opacity: 0.5;
            mix-blend-mode: multiply;

            /* Assets */
            background-image: url("solana_bg.png");
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;

            /* Masking for seamless blend */
            mask-image: radial-gradient(closest-side, black 40%, transparent 100%);
            -webkit-mask-image: radial-gradient(closest-side, black 40%, transparent 100%);

            /* Positioning Layer */
            z-index: 0;
            pointer-events: none;
        }

        .solana-content {
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            text-align: center;
        }

        .solana-headline {
            font-family: var(--font-display);
            font-size: clamp(40px, 4vw, 64px);
            font-weight: 500;
            color: #000;
            margin-bottom: 24px;
            line-height: 1.1;
        }

        .solana-subhead {
            font-family: var(--font-display);
            font-size: 22px;
            font-weight: 400;
            color: #555;
            margin-bottom: 60px;
            letter-spacing: -0.01em;
        }

        /* Features Grid */
        .solana-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            margin-bottom: 80px;
            text-align: center;
        }

        .feature-item h3 {
            font-family: var(--font-display);
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #000;
            letter-spacing: -0.01em;
            position: relative;
            z-index: 10;
        }

        .feature-item p {
            font-family: var(--font-display);
            font-size: 15px;
            font-weight: 400;
            color: #777;
            line-height: 1.5;
            letter-spacing: -0.01em;
            position: relative;
            z-index: 10;
        }

        .panel-visual {
            position: relative;
            z-index: 10;
        }

        /* Badge Row */
        .tech-stack {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 24px;
        }

        .microline {
            font-family: var(--font-display);
            font-size: 13px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #222;
            margin-bottom: 16px;
        }

        .badge-row {
            display: flex;
            gap: 32px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }

        .badge {
            font-size: 16px;
            color: #999;
            font-weight: 600;
            transition: color 0.3s;
            cursor: default;
            font-family: var(--font-display);
        }

        .badge:hover {
            color: #000;
        }

        /* CTA */
        .cta-link {
            display: inline-block;
            margin-top: 60px;
            font-size: 15px;
            font-weight: 600;
            color: #111;
            text-decoration: none;
            border-bottom: 1px solid rgba(0, 0, 0, 0.2);
            padding-bottom: 4px;
            transition: all 0.2s;
        }

        .cta-link:hover {
            border-color: #000;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .solana-features {
                grid-template-columns: 1fr;
                gap: 24px;
                /* Reduced gap for tighter mobile layout */
            }

            .solana-watermark {
                width: 300px;
                height: 300px;
            }
        }

        /* --- NEW SOLANA CARD DESIGN (JARVIS) --- */
        .solana-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            /* Reduced from 40px for tighter agency feel */
            margin-bottom: 80px;
            text-align: center;
        }

        .solana-card {
            position: relative;
            min-height: 280px;
            /* Reduced height to reduce whitespace */
            /* Ultra-Premium C-Through Glass */
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(8px);
            /* Reduced blur for clarity */
            -webkit-backdrop-filter: blur(8px);

            border: 1px solid rgba(255, 255, 255, 0.15);
            /* Subtle structure */
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            /* Top highlight */
            border-radius: 24px;

            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.02);
            /* Minimal shadow initially */

            transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
            /* Expo easing for premium feel */
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        /* Sheen Effect */
        .solana-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -150%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transform: skewX(-25deg);
            transition: none;
            /* Reset for instant return */
            pointer-events: none;
            z-index: 1;
        }

        .solana-card:hover::before {
            left: 150%;
            transition: left 0.6s ease;
            /* Fast, sharp wipe */
        }

        .solana-card:hover {
            transform: translateY(-12px) scale(1.02);
            /* Increased lift */
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.15), 0 0 30px rgba(57, 255, 20, 0.15);
            /* Stronger glow */
            border-color: rgba(57, 255, 20, 0.5);
            background: radial-gradient(circle at center, rgba(57, 255, 20, 0.05), rgba(255, 255, 255, 0.08));
            /* Reactive core glow */
        }

        .solana-card-inner {
            position: relative;
            z-index: 2;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            /* Reduced padding for tighter agency feel */
        }

        /* Internal Grid/Haze */
        .card-grid {
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.5;
            pointer-events: none;
            z-index: 0;
        }

        .card-haze {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top, rgba(255, 255, 255, 0.8), transparent 70%);
            z-index: 0;
            opacity: 0.5;
        }

        .card-accent {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #39FF14;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s ease;
            z-index: 5;
        }

        .solana-card:hover .card-accent {
            transform: scaleX(1);
        }

        /* Typography override for card context */
        .solana-card h3 {
            font-family: var(--font-display);
            font-size: 24px;
            font-weight: 600;
            color: #000;
            margin-top: 12px;
            /* Reduced from 24px to pull text closer to icon */
            margin-bottom: 8px;
            position: relative;
            z-index: 10;
        }

        .solana-card p {
            font-family: var(--font-display);
            font-size: 15px;
            font-weight: 400;
            color: #666;
            line-height: 1.5;
            max-width: 240px;
            position: relative;
            z-index: 10;
        }

        /* SVG Styling */
        .stat-glyph-premium {
            width: 80px;
            height: 80px;
            margin-bottom: 8px;
            overflow: visible;
        }

        /* Animations */
        .speed-arc {
            stroke-dasharray: 100;
            stroke-dashoffset: 100;
            transition: stroke-dashoffset 0.6s ease;
        }

        .solana-card:hover .speed-arc {
            stroke-dashoffset: 0;
        }

        .pulse-ring {
            transform-origin: 40px 40px;
            /* Explicit origin */
            animation: pulseRing 2s infinite linear;
            opacity: 0;
        }

        .solana-card:hover .pulse-ring {
            opacity: 1;
        }

        @keyframes pulseRing {
            0% {
                transform: scale(0.8);
                opacity: 0.8;
            }

            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }

        .hero-chip {
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .solana-card:hover .hero-chip {
            transform: translateY(-5px);
        }

        .shield-pulse {
            opacity: 0.5;
            transition: opacity 0.3s;
        }

        .solana-card:hover .shield-pulse {
            opacity: 1;
            filter: drop-shadow(0 0 5px #39FF14);
        }

        /* -----------------------------------------------------------
           SECTION 2: THE SPLIT
        ----------------------------------------------------------- */
        .section-split {
            position: relative;
            z-index: 50;
            /* Covers fixed video */
            width: 100%;
            min-height: 100vh;
            background-color: #FFFFFF;
            padding-top: var(--split-padding);
            padding-bottom: var(--split-padding);
            box-shadow: 0 -20px 50px rgba(0, 0, 0, 0.2);
            /* Shutter shadow */
            overflow: hidden;
        }

        /* Faint Grid Underlay */
        .bg-grid-faint {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: 40px 40px;
            background-image:
                linear-gradient(to right, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
            pointer-events: none;
            z-index: 0;
        }

        /* Scanline Echo */
        .scanline-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(to bottom,
                    transparent 0px,
                    transparent 4px,
                    rgba(0, 0, 0, 0.02) 5px);
            pointer-events: none;
            z-index: 1;
        }

        /* --- GRID DATAFLOW (SECTION 2 FX) --- */
        .grid-dataflow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            overflow: hidden;
        }

        .data-stream {
            position: absolute;
            background: linear-gradient(90deg, transparent 0%, rgba(0, 0, 0, 0.1) 50%, transparent 100%);
            opacity: 0;
            will-change: transform, opacity;
        }

        /* Horizontal Stream */
        .ds-h {
            height: 1px;
            width: 200px;
            animation: flowH 8s linear infinite;
        }

        /* Vertical Stream */
        .ds-v {
            width: 1px;
            height: 200px;
            background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.1) 50%, transparent 100%);
            animation: flowV 8s linear infinite;
        }

        @keyframes flowH {
            0% {
                transform: translateX(-200px);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateX(100vw);
                opacity: 0;
            }
        }

        @keyframes flowV {
            0% {
                transform: translateY(-200px);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(100vh);
                opacity: 0;
            }
        }

        /* Content Container */
        .split-container {
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 24px;
        }

        /* Headings */
        .split-header {
            grid-column: 3 / span 8;
            text-align: center;
            margin-bottom: 80px;
        }

        .eyebrow {
            font-family: var(--font-body);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: rgba(0, 0, 0, 0.4);
            margin-bottom: 24px;
            display: block;
            font-weight: 700;
        }

        /* Beats Play Button */
        .beats-play-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(120, 120, 120, 0.3);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 12px auto 0 auto;
            transition: all 0.3s ease;
            position: relative;
        }

        .beats-play-btn::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(120, 120, 120, 0.2);
            animation: beatsPulse 2s ease-in-out infinite;
        }

        .beats-play-btn:hover {
            background: rgba(120, 120, 120, 0.5);
            transform: scale(1.1);
        }

        .beats-play-btn svg {
            width: 12px;
            height: 12px;
            fill: rgba(80, 80, 80, 0.8);
            position: relative;
            z-index: 1;
            margin-left: 2px;
        }

        .beats-play-btn.playing svg {
            margin-left: 0;
        }

        @keyframes beatsPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.6;
            }
            50% {
                transform: scale(1.4);
                opacity: 0;
            }
        }

        .split-headline {
            font-family: var(--font-display);
            font-size: clamp(48px, 5vw, 72px);
            font-weight: 500;
            color: #000;
            line-height: 1.1;
            margin-bottom: 24px;
        }

        .split-subhead {
            font-family: var(--font-body);
            font-size: 24px;
            color: rgba(0, 0, 0, 0.6);
            font-weight: 400;
        }

        /* Cards Row */
        .cards-row {
            grid-column: 2 / span 10;
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            /* Card - Divider - Card */
            gap: 0;
            /* Handled by layout */
            align-items: stretch;
            position: relative;
        }

        .glass-card {
            position: relative;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-radius: 24px;
            padding: 64px 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.02);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 300px;
            /* Ensure stacking context */
            isolation: isolate;
        }

        .card-text {
            font-family: var(--font-display);
            font-size: 20px;
            font-weight: 400;
            color: #111;
        }

        /* Center Unifier */
        .center-unifier {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            width: 80px;
            /* Space for the line */
        }

        .accent-line {
            width: 1px;
            height: 100%;
            background: linear-gradient(to bottom, transparent, #39FF14, transparent);
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0.6;
        }

        .unifier-text {
            position: absolute;
            width: auto;
            max-width: 400px;
            /* Allow text to spill over line */
            text-align: center;
            font-family: var(--font-body);
            font-size: 14px;
            color: rgba(0, 0, 0, 0.5);
            background: #FFFFFF;
            padding: 8px 24px;
            border-radius: 100px;
            /* box-shadow: 0 4px 20px rgba(0,0,0,0.05); */
            white-space: nowrap;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .section-split {
                padding-top: 80px;
                padding-bottom: 80px;
            }

            .split-container {
                padding: 0 20px;
                display: flex;
                flex-direction: column;
            }

            .split-header {
                margin-bottom: 40px;
            }

            .split-headline {
                font-size: 36px;
            }

            .split-subhead {
                font-size: 18px;
            }

            .cards-row {
                display: flex;
                flex-direction: column;
                gap: 16px;
            }

            .center-unifier {
                height: 60px;
                width: 100%;
                flex-direction: row;
                justify-content: center;
            }

            .accent-line {
                width: 100%;
                height: 1px;
                background: linear-gradient(to right, transparent, #39FF14, transparent);
            }

            .unifier-text {
                position: relative;
                transform: none;
                top: auto;
                left: auto;
                background: white;
                border: 1px solid rgba(0, 0, 0, 0.05);
                margin: 0 auto;
            }
        }

        /* -----------------------------------------------------------
           RESET & CORE
        ----------------------------------------------------------- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        html {
            overflow-x: hidden;
            width: 100%;
        }

        body {
            background-color: var(--bg-dark);
            font-family: var(--font-body);
            color: var(--text-white);
            overflow-x: hidden;
            width: 100%;
            position: relative;
        }

        /* -----------------------------------------------------------
           FIXED BACKGROUND SYSTEM (Video + Grid)
           Z-Index: 0-5
        ----------------------------------------------------------- */
        .viewport-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: 100dvh;
            /* Always fills viewport */
            overflow: hidden;
            z-index: 1;
            /* Sits behind Scroll Content */
        }

        /* Video Layer */
        .video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            background: #0B0C0D;
            /* Entrance Fade */
            opacity: 0;
            transition: opacity 1.5s ease-out;
        }

        .video-container.loaded {
            opacity: 1;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* Static scale for bleeding edges, NO JITTER PARALLAX */
            transform: translateZ(0) scale(1.05);
            filter: brightness(0.9) contrast(1.1);
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            will-change: transform;
        }

        /* Scanlines Overlay */
        .scanlines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(to bottom,
                    transparent 0px,
                    transparent 2px,
                    rgba(0, 0, 0, 0.1) 3px);
            pointer-events: none;
            z-index: 2;
            opacity: 0.6;
        }

        /* Interactive Grid Canvas */
        #physics-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3;
            pointer-events: none;
            /* Let clicks pass through */
        }

        /* Vignette/Glow Overlay */
        .luminous-overlay {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, transparent 0%, rgba(11, 12, 13, 0.4) 100%);
            z-index: 4;
            pointer-events: none;
        }

        /* -----------------------------------------------------------
           SCROLLABLE CONTENT
           Z-Index: 10+
        ----------------------------------------------------------- */
        .scroll-container {
            position: relative;
            z-index: 10;
            width: 100%;
            /* NOTE: Do NOT add transform or will-change here — it breaks
               GSAP position:fixed pinning (e.g. manifesto marquee).
               transform creates a new containing block that makes
               position:fixed behave like position:absolute. */
        }

        /* Hero Section Content */
        .hero-section {
            position: relative;
            width: 100%;
            height: var(--hero-height);
            /* 1100px massive height */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            /* Align top but pushed down via padding */
            padding-top: 140px;
            /* Space for nav */
            text-align: center;
        }

        /* Nav */
        nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 40px;
            z-index: 20;
        }

        .logo-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo {
            font-family: var(--font-display);
            font-size: 20px;
            font-weight: 600;
            color: var(--text-white);
            text-decoration: none;
            letter-spacing: 0.02em;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .by-kr8tiv {
            display: flex;
            align-items: center;
            gap: 4px;
            text-decoration: none;
            opacity: 0.6;
            transition: opacity 0.2s ease;
        }

        .by-kr8tiv:hover {
            opacity: 1;
        }

        .by-kr8tiv span {
            font-family: var(--font-body);
            font-size: 9px;
            color: var(--text-white);
            text-transform: lowercase;
        }

        .by-kr8tiv img {
            height: 14px;
            width: auto;
            filter: brightness(0) invert(1);
        }

        .nav-center {
            display: flex;
            gap: 40px;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.7);
            font-size: 15px;
            /* PROMPT: 15px */
            font-weight: 500;
            /* PROMPT: 500 */
            text-decoration: none;
            transition: color 0.3s, text-shadow 0.3s;
        }

        .nav-link:hover {
            color: #FFF;
            /* PROMPT: White Glow Hover */
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        .nav-sniper {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .pre-alpha-pill {
            font-size: 9px;
            font-weight: 700;
            letter-spacing: 1px;
            background: #39FF14;
            color: #0B0C0D;
            padding: 2px 6px;
            border-radius: 4px;
            line-height: 1;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .social-row {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .social-icon {
            color: rgba(255, 255, 255, 0.7);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .social-icon:hover {
            color: #FFF;
            transform: translateY(-1px);
            filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.5));
        }

        .social-icon svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        /* Hero Typography */
        .hero-content {
            margin-top: 15vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            /* JS Fade In */
            transform: translateY(30px);
            transition: opacity 1s ease-out, transform 1s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .hero-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Badge with Shimmer */
        .pill-badge {
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 11px;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            margin-bottom: 24px;
            backdrop-filter: blur(4px);
            position: relative;
            overflow: hidden;
        }

        /* Continuous Sheen Animation */
        .pill-badge::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent,
                    rgba(255, 255, 255, 0.2),
                    transparent);
            transform: translateX(-100%);
            animation: sheen 3s infinite;
        }

        @keyframes sheen {
            0% {
                transform: translateX(-100%);
            }

            20% {
                transform: translateX(100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        /* Headline with Gradient Wave */
        h1.hero-title {
            font-family: var(--font-display);
            font-size: 80px;
            line-height: 0.95;
            font-weight: 600;
            letter-spacing: -0.03em;
            margin-bottom: 32px;

            /* Gradient Text Setup */
            background: linear-gradient(120deg, #FFFFFF 0%, #B0B0B0 50%, #FFFFFF 100%);
            background-size: 200% auto;
            background-position: 0% 50%;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 40px rgba(255, 255, 255, 0.15);
            transition: background-position 0.6s ease;
            cursor: default;
        }

        h1.hero-title:hover {
            background-position: 100% 50%;
        }

        p.hero-subtitle {
            font-size: 18px;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            max-width: 540px;
            margin-bottom: 48px;
            font-weight: 400;
        }

        /* Buttons */
        .btn-group {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .btn-primary {
            background: #FFFFFF;
            color: #000;
            padding: 16px 36px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 14px;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
            overflow: hidden;
            border: 1px solid white;
        }

        .btn-primary:hover {
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.5);
            transform: scale(1.02);
        }

        .btn-primary::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .btn-primary:hover::after {
            opacity: 0.2;
        }

        .btn-ghost {
            color: #FFF;
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            /* PROMPT: Bold 600 */
            padding: 16px 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
        }

        .btn-ghost:hover {
            border-color: #FFF;
            background: rgba(255, 255, 255, 0.05);
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.4);
        }

        /* Dark variant for btn-ghost on white backgrounds */
        .btn-ghost-dark {
            color: #0B0C0D;
            border-color: rgba(11, 12, 13, 0.25);
        }

        .btn-ghost-dark:hover {
            color: #0B0C0D;
            border-color: #0B0C0D;
            background: rgba(11, 12, 13, 0.06);
            text-shadow: none;
        }

        /* GitHub Button Variant */
        .btn-github {
            border-radius: 9px;
            gap: 10px;
        }

        .btn-github .github-icon {
            width: 18px;
            height: 18px;
            flex-shrink: 0;
        }

        /* -----------------------------------------------------------
           THE SHUTTER (White Section)
           Z-Index: 50
        ----------------------------------------------------------- */
        .white-shutter {
            position: relative;
            z-index: 50;
            /* Covers fixed video */
            background: var(--shutter-white);
            width: 100%;
            min-height: 100vh;
            /* Ensure it covers well */
            padding-top: 100px;
            padding-bottom: 100px;
            box-shadow: 0 -20px 50px rgba(0, 0, 0, 0.5);
            /* Shadow casting up on the video */
        }

        .white-content {
            max-width: 1200px;
            margin: 0 auto;
            color: #111;
            padding: 0 40px;
            text-align: center;
        }

        .footer-bag {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            background: #F5F5F7;
            border-radius: 12px;
            text-decoration: none;
            color: #333;
            transition: transform 0.2s;
            margin-bottom: 30px;
        }

        .footer-bag:hover {
            transform: translateY(-2px);
        }

        .footer-bag img {
            width: 24px;
            height: 24px;
            border-radius: 6px;
        }

        .footer-socials {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .footer-socials .social-icon {
            color: #888;
        }

        .footer-socials .social-icon:hover {
            color: #111;
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.2));
        }

        /* -----------------------------------------------------------
           SECTION 4: TRADING CORE
        ----------------------------------------------------------- */
        .trading-core {
            position: relative;
            z-index: 50;
            width: 100%;
            min-height: 100vh;
            background-color: #FFFFFF;
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            overflow: hidden;
            display: flex;
            align-items: center;
        }

        .core-container {
            max-width: 1300px;
            margin: 0 auto;
            width: 100%;
            padding: 0 40px;
            display: grid;
            grid-template-columns: 4fr 6fr;
            /* Text | Visuals */
            gap: 60px;
            align-items: center;
        }

        /* Text Column */
        .core-text {
            position: relative;
            z-index: 2;
        }

        .core-headline {
            font-family: var(--font-display);
            font-size: clamp(48px, 5vw, 80px);
            font-weight: 600;
            color: #000;
            line-height: 1.05;
            margin-bottom: 24px;
        }

        .core-subhead {
            font-family: var(--font-body);
            font-size: 20px;
            color: #666;
            margin-bottom: 40px;
            max-width: 400px;
            line-height: 1.5;
        }

        .honesty-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            background: #F5F5F7;
            border-radius: 100px;
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #555;
            margin-bottom: 40px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #FFB02E;
            /* Amber for "Paper Trading" */
            box-shadow: 0 0 10px rgba(255, 176, 46, 0.4);
        }

        /* Visual Column (Card Stack) */
        .strategy-deck {
            position: relative;
            height: 600px;
            perspective: 1000px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .strategy-card {
            position: absolute;
            width: 380px;
            background: #FFFFFF;
            border: 1px solid rgba(0, 0, 0, 0.08);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);
            /* Initial State */
            transform-style: preserve-3d;
        }

        .strat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            padding-bottom: 16px;
        }

        .strat-name {
            font-family: var(--font-display);
            font-weight: 600;
            font-size: 18px;
            color: #111;
        }

        .strat-status {
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            padding: 4px 8px;
            border-radius: 6px;
        }

        .status-rejected {
            background: #EEE;
            color: #999;
        }

        .status-active {
            background: rgba(57, 255, 20, 0.1);
            color: #008000;
        }

        .strat-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .metric h4 {
            font-size: 11px;
            text-transform: uppercase;
            color: #999;
            margin-bottom: 4px;
        }

        .metric div {
            font-family: var(--font-display);
            font-size: 20px;
            font-weight: 500;
            color: #111;
        }

        /* -----------------------------------------------------------
           SECTION 5: EXECUTION LAYER
        ----------------------------------------------------------- */
        /* -----------------------------------------------------------
           GLOBAL BACKGROUND EFFECTS (Restored)
           Required for Section 5 and others to prevent layout breakage
        ----------------------------------------------------------- */
        .bg-grid-faint {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background-image:
                linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            pointer-events: none;
        }

        .grid-dataflow {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            overflow: hidden;
        }

        .data-stream {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(57, 255, 20, 0.15), transparent);
            opacity: 0;
            filter: blur(1px);
        }

        .ds-h {
            height: 1px;
            width: 150px;
            animation: dataFlowH 5s linear infinite;
        }

        .ds-v {
            width: 1px;
            height: 150px;
            animation: dataFlowV 5s linear infinite;
        }

        @keyframes dataFlowH {
            0% {
                transform: translateX(-100%) scaleX(0.5);
                opacity: 0;
            }

            50% {
                opacity: 0.5;
            }

            100% {
                transform: translateX(100vw) scaleX(1);
                opacity: 0;
            }
        }

        @keyframes dataFlowV {
            0% {
                transform: translateY(-100%) scaleY(0.5);
                opacity: 0;
            }

            50% {
                opacity: 0.5;
            }

            100% {
                transform: translateY(100vh) scaleY(1);
                opacity: 0;
            }
        }

        .scanline-overlay {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.02) 50%);
            background-size: 100% 4px;
            pointer-events: none;
        }

        /* SECTION 5: EXECUTION LAYER */
        .execution-layer {
            position: relative;
            z-index: 50;
            width: 100%;
            min-height: 90vh;
            background-color: #FAFAFA;
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            display: flex;
            align-items: center;
            overflow: hidden;
        }

        .exec-container {
            max-width: 1300px;
            margin: 0 auto;
            width: 100%;
            padding: 0 40px;
            box-sizing: border-box;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            position: relative;
            /* Safety */
            z-index: 10;
            /* Ensure above backgrounds */
        }

        .exec-text {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* PATCH: Center align text in column */
            text-align: center;
            /* PATCH: Center align text in column */
            padding-right: 20px;
            /* Space between cols */
        }

        .exec-headline {
            font-family: var(--font-display);
            font-size: clamp(40px, 4vw, 64px);
            font-weight: 600;
            color: #111;
            margin-bottom: 24px;
            line-height: 1.1;
        }

        .exec-subhead {
            font-family: var(--font-body);
            font-size: 24px;
            color: #666;
            margin-bottom: 40px;
            line-height: 1.4;
            max-width: 600px;
        }

        .partner-row {
            font-family: 'Courier New', Courier, monospace;
            /* Tech feel */
            font-size: 14px;
            color: #888;
            margin-bottom: 40px;
            display: flex;
            gap: 16px;
            opacity: 0.7;
            justify-content: center;
            /* PATCH: Center align */
        }

        .exec-micro {
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #111;
            border-left: 2px solid #39FF14;
            padding-left: 16px;
        }

        /* PATCH: WEBGL RESTORE - Explicit dimensions for canvas */
        .exec-monitor {
            background: transparent;
            /* Seamless blend */
            position: relative;
            overflow: hidden;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            min-height: 450px;
            border-radius: 24px;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .stream-canvas {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0;
            transition: opacity 1s ease-out;
        }

        /* Seamless Vignette (White Fade) */
        .stream-vignette {
            position: absolute;
            inset: 0;
            z-index: 5;
            background: radial-gradient(circle at center, transparent 40%, rgba(255, 255, 255, 0.8) 100%);
            pointer-events: none;
        }

        /* HUD Refinements (Dark Mode Text) */
        .nexus-hud {
            position: absolute;
            inset: 0;
            z-index: 10;
            pointer-events: none;
            padding: 24px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .hud-top,
        .hud-bottom {
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .nexus-hud:hover .hud-top,
        .nexus-hud:hover .hud-bottom {
            opacity: 1;
        }

        .hud-label {
            font-family: 'DM Sans', sans-serif;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: rgba(0, 0, 0, 0.4);
            /* Dark text */
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .hud-status-pill {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 4px 12px;
            background: rgba(255, 255, 255, 0.5);
            /* Light pill */
            border: 1px solid rgba(0, 0, 0, 0.08);
            border-radius: 100px;
            backdrop-filter: blur(4px);
        }

        .status-dot-core {
            width: 5px;
            height: 5px;
            background: #39FF14;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(57, 255, 20, 0.4);
        }

        .status-text {
            font-family: 'DM Sans', sans-serif;
            font-size: 10px;
            font-weight: 600;
            color: #111;
            /* Dark text */
            letter-spacing: 0.05em;
        }

        .data-readout {
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            color: #000;
            /* Dark text */
            display: flex;
            flex-direction: column;
            gap: 2px;
            text-shadow: none;
        }

        .readout-label {
            color: rgba(0, 0, 0, 0.4);
            /* Dark label */
            font-family: 'DM Sans', sans-serif;
            font-weight: 500;
            letter-spacing: 0.1em;
            font-size: 9px;
        }


        .route-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .route-name {
            font-weight: 600;
            color: #444;
            font-size: 16px;
            width: 100px;
        }

        .route-price {
            font-family: var(--font-display);
            font-weight: 500;
            color: #111;
        }

        .route-bar-bg {
            width: 120px;
            height: 4px;
            background: #EEE;
            border-radius: 2px;
            overflow: hidden;
        }

        .route-bar-fill {
            width: 0%;
            height: 100%;
            background: #ccc;
            transition: width 0.4s;
        }

        .route-selected {
            background: #F0FFF0;
            /* Very faint green */
            border-color: rgba(57, 255, 20, 0.3);
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(57, 255, 20, 0.1);
        }

        .route-selected .route-name {
            color: #000;
        }

        .route-selected .route-bar-fill {
            background: #39FF14;
        }

        .jito-badge {
            font-size: 10px;
            background: #111;
            color: #FFF;
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 8px;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.3s;
        }

        .route-selected .jito-badge {
            opacity: 1;
            transform: scale(1);
        }

        @media (max-width: 900px) {
            .exec-container {
                grid-template-columns: 1fr;
                gap: 50px;
                justify-items: center;
                padding: 0 20px;
            }

            .exec-text {
                padding-right: 0;
            }

            .partner-row {
                flex-wrap: wrap;
            }

            .exec-micro {
                border-left: none;
                padding-left: 0;
                border-bottom: 2px solid #39FF14;
                padding-bottom: 6px;
                display: inline-block;
            }

            .route-name {
                width: 80px;
                font-size: 14px;
            }

            .route-bar-bg {
                width: 80px;
            }

            /* Core Section Mobile */
            .core-container {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .strategy-deck {
                height: auto;
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
                overflow: visible;
                padding: 0;
                gap: 20px;
                -ms-overflow-style: none;
                scrollbar-width: none;
            }

            .strategy-deck::-webkit-scrollbar {
                display: none;
            }

            .strategy-card {
                position: static;
                width: 100%;
                max-width: 380px;
                margin: 0 auto;
            }
        }

        /* -----------------------------------------------------------
           SECTION 6: YOUR UNIVERSE (ASSETS)
        ----------------------------------------------------------- */
        .section-universe {
            position: relative;
            z-index: 50;
            width: 100%;
            min-height: 85vh;
            background: radial-gradient(circle at 50% 50%, #F9F9F9 0%, #FFFFFF 60%);
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .universe-container {
            width: 100%;
            max-width: 1200px;
            padding: 0 40px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            perspective: 1200px;
            /* For 3D Orbit */
        }

        .univ-headline {
            font-family: var(--font-display);
            font-size: clamp(48px, 5vw, 72px);
            font-weight: 600;
            color: #111;
            margin-bottom: 24px;
            line-height: 1.1;
        }

        .univ-subhead {
            font-family: var(--font-body);
            font-size: 24px;
            color: #666;
            margin-bottom: 30px;
            max-width: 600px;
        }

        .univ-micro {
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #111;
            margin-bottom: 80px;
            display: inline-block;
            border-bottom: 1px solid #39FF14;
            padding-bottom: 4px;
        }

        /* 3D Orbit Ring */
        .orbit-scene {
            width: 600px;
            height: 400px;
            position: relative;
            transform-style: preserve-3d;
        }

        .orbit-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            transform: translate(-50%, -50%) rotateX(70deg);
            /* Initial tilt */
            transform-style: preserve-3d;
        }

        /* The actual rotating plane */
        .orbit-rotator {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid rgba(0, 0, 0, 0.05);
            /* Guide line */
            border-radius: 50%;
            transform-style: preserve-3d;
            animation: rotateOrbit 25s linear infinite;
        }

        @keyframes rotateOrbit {
            from {
                transform: rotateZ(0deg);
            }

            to {
                transform: rotateZ(360deg);
            }
        }

        .asset-token {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60px;
            height: 60px;
            background: #FFF;
            border-radius: 50%;
            /* Metallic look */
            box-shadow:
                0 4px 10px rgba(0, 0, 0, 0.1),
                inset 0 0 0 2px rgba(200, 200, 200, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 12px;
            color: #333;
            transform-style: preserve-3d;
            backface-visibility: visible;
        }

        /* Counter-rotate tokens so they face up */
        .asset-token img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
            animation: counterRotate 25s linear infinite;
        }

        @keyframes counterRotate {
            0% {
                transform: rotateZ(0deg);
            }

            100% {
                transform: rotateZ(-360deg);
            }
        }

        @media (max-width: 768px) {
            /* Mobile video bleed-through fix: solid backgrounds */
            section {
                background-color: var(--bg-dark, #0B0C0D);
            }

            /* White/light sections need explicit backgrounds */
            .section-universe {
                background-color: #FFFFFF !important;
                background: radial-gradient(circle at 50% 50%, #F9F9F9 0%, #FFFFFF 60%) !important;
            }

            /* Extra containment for video layers on mobile */
            .card-video-layer,
            .final-video-bg {
                overflow: hidden;
            }

            .section-universe {
                min-height: auto;
                padding-top: 40px;
                padding-bottom: 40px;
            }

            .universe-container {
                padding: 0 20px;
            }

            #universeVisual {
                height: clamp(340px, 55vh, 460px) !important;
            }

            .univ-headline {
                font-size: 32px;
                margin-bottom: 16px;
            }

            .univ-subhead {
                font-size: 18px;
                margin-bottom: 20px;
            }

            .univ-micro {
                margin-bottom: 30px;
            }

            .orbit-scene {
                width: 300px;
                height: 300px;
            }

            .asset-token {
                width: 50px;
                height: 50px;
                font-size: 10px;
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 48px;
                text-align: left;
            }

            .nav-center {
                display: none;
            }

            .hero-section {
                padding-top: 100px;
            }

            .hero-content {
                align-items: flex-start;
                padding: 0 20px;
            }

            .pill-badge {
                align-self: center;
            }

            .hero-subtitle {
                text-align: left;
            }

            .btn-group {
                flex-direction: column;
                align-items: flex-start;
            }

            .nav-right {
                gap: 8px;
            }

            .social-row {
                display: flex;
                gap: 6px;
            }

            .social-row .social-icon {
                width: 32px;
                height: 32px;
            }

            .social-row .social-icon svg,
            .social-row .social-icon img {
                width: 14px;
                height: 14px;
            }

            .btn-ghost.btn-github {
                display: none;
            }
        }

        /* --- Personal AI Video Background --- */
        .personal-video-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .personal-video-bg video.parallax-video {
            width: 100%;
            height: 120%;
            object-fit: cover;
            opacity: 0.9;
            transform: translateY(-10%);
        }

        .video-overlay-gradient {
            position: absolute;
            left: 0;
            width: 100%;
            height: 5vh;
            z-index: 1;
        }

        .video-overlay-gradient.grad-top {
            top: 0;
            background: linear-gradient(to bottom, #FFF 0%, transparent 100%);
        }

        .video-overlay-gradient.grad-bottom {
            bottom: 0;
            background: linear-gradient(to top, #FFF 0%, transparent 100%);
        }

        /* --- Privacy Section Video Background --- */
        .privacy-video-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .privacy-video-bg video.parallax-video-privacy {
            width: 100%;
            height: 120%;
            object-fit: cover;
            opacity: 0.85;
            transform: translateY(-10%);
        }

        /* -----------------------------------------------------------
           SECTION 7: PERSONAL AI (LIFE AGENT)
        ----------------------------------------------------------- */
        .section-personal {
            position: relative;
            z-index: 50;
            padding: 120px 0;
            background: #FFFFFF;
            position: relative;
            overflow: hidden;
        }

        .personal-container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .personal-content {
            display: flex;
            flex-direction: column;
        }

        .personal-headline {
            font-family: var(--font-display);
            font-size: 64px;
            font-weight: 600;
            line-height: title-line-height;
            margin-bottom: 20px;
            letter-spacing: -2px;
            color: #000000;
            /* Pure Black */
            max-width: 500px;
        }

        .personal-subhead {
            font-family: var(--font-body);
            font-size: 24px;
            color: #333333;
            /* Darker Grey */
            margin-bottom: 40px;
            line-height: 1.4;
            max-width: 480px;
            font-weight: 500;
        }

        .command-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .command-row {
            display: flex;
            align-items: center;
            opacity: 0;
            /* JS fades in */
            transform: translateY(10px);
        }

        .command-bubble {
            background: #F0F2F5;
            padding: 12px 24px;
            border-radius: 20px;
            font-size: 15px;
            color: #444;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .command-row:hover .command-bubble {
            background: #000;
            color: #FFF;
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        /* Jarvis Brain Card (Light Mode: Ethereal Frost) */
        .brain-card {
            width: 100%;
            height: 520px;
            background: rgba(255, 255, 255, 0.65);
            /* Frosted White */
            border-radius: 24px;
            box-shadow:
                0 40px 100px rgba(0, 0, 0, 0.05),
                /* Soft diffuse shadow */
                inset 0 0 0 1px rgba(255, 255, 255, 0.8);
            /* Inner white rim */
            border: 1px solid rgba(255, 255, 255, 0.4);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        /* Ambient Background (Subtle Warmth) */
        .brain-ambient-bg {
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 30% 20%, rgba(57, 255, 20, 0.03) 0%, transparent 50%),
                /* Faint green hint */
                radial-gradient(circle at 70% 80%, rgba(200, 220, 255, 0.1) 0%, transparent 50%);
            /* Cool blue hint */
            opacity: 1;
            z-index: 0;
        }

        /* Neural Canvas (The Brain) */
        .neural-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            /* Above BG, below nodes */
            opacity: 0.8;
            pointer-events: none;
        }

        /* Faint Pattern Overlay */
        .brain-overlay {
            position: absolute;
            inset: 0;
            background-image:
                radial-gradient(#000 0.5px, transparent 0.5px);
            background-size: 20px 20px;
            opacity: 0.03;
            /* Very subtle dot grid */
            pointer-events: none;
            z-index: 1;
        }

        /* Stream Container */
        .life-stream-container {
            position: relative;
            z-index: 2;
            width: 340px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            mask-image: linear-gradient(to bottom,
                    transparent 0%,
                    black 15%,
                    black 85%,
                    transparent 100%);
            pointer-events: none;
        }

        /* Life Node (Clean White Card) */
        .life-node {
            width: 100%;
            height: 72px;
            background: #FFFFFF;
            border: 1px solid rgba(0, 0, 0, 0.03);
            border-radius: 16px;
            box-shadow:
                0 4px 12px rgba(0, 0, 0, 0.03),
                0 1px 2px rgba(0, 0, 0, 0.02);
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 16px;
            margin-bottom: 24px;
            opacity: 0.6;
            transform: scale(0.96);
            transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: absolute;
            top: 100%;
        }

        /* Active State (Pop) */
        .life-node.active {
            opacity: 1;
            transform: scale(1);
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.06),
                0 0 0 1px rgba(57, 255, 20, 0.2);
            border-color: rgba(57, 255, 20, 0.2);
            z-index: 10;
        }

        .node-icon {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            background: #F5F5F7;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            transition: all 0.3s;
        }

        .life-node.active .node-icon {
            color: #111;
            background: #E8FFE8;
            /* Very pale green bg */
        }

        .node-icon svg {
            width: 20px;
            height: 20px;
        }

        .node-data {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .node-label {
            font-family: var(--font-body);
            font-size: 15px;
            color: #111;
            font-weight: 600;
        }

        .node-status {
            font-family: 'DM Sans', sans-serif;
            font-size: 11px;
            color: #888;
            font-weight: 500;
        }

        .life-node.active .node-status {
            color: #00A651;
            /* Darker clean green for visibility on white */
        }

        /* Processing Scanner (Subtle Ripple) */
        .process-scanner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 380px;
            height: 90px;
            z-index: 1;
            pointer-events: none;
            opacity: 0;
            background: radial-gradient(closest-side, rgba(57, 255, 20, 0.04) 0%, transparent 100%);
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            .brain-path {
                animation: none;
            }

            .core-pulse,
            .core-inner {
                animation: none;
            }
        }

        @keyframes pulseGreen {
            0% {
                transform: scaleY(1);
                opacity: 0.6;
            }

            50% {
                transform: scaleY(1.5);
                opacity: 1;
            }
        }

        @media (max-width: 900px) {
            .personal-container {
                grid-template-columns: 1fr;
                gap: 60px;
            }

            .personal-headline {
                text-align: center;
                width: 100%;
            }

            .command-list {
                align-items: center;
            }
        }

        /* -----------------------------------------------------------
           SECTION 8: THE WATCHER (PRIVACY)
        ----------------------------------------------------------- */
        .section-privacy {
            position: relative;
            z-index: 50;
            width: 100%;
            min-height: 90vh;
            /* background-color: #FFFFFF; Removed for video */
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .privacy-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        /* Visual Left */
        .privacy-visual {
            position: relative;
            width: 100%;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .shield-core {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, rgba(255, 200, 100, 0.8) 0%, rgba(255, 150, 50, 0.4) 60%);
            border-radius: 50%;
            box-shadow: 0 0 60px rgba(255, 150, 50, 0.3);
            position: relative;
            z-index: 10;
        }

        .shield-ring {
            position: absolute;
            border: 1px solid rgba(135, 206, 250, 0.3);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(135, 206, 250, 0.1);
        }

        .ring-1 {
            width: 200px;
            height: 200px;
            z-index: 9;
            animation: spinShield 20s linear infinite;
        }

        .ring-2 {
            width: 300px;
            height: 300px;
            z-index: 8;
            animation: spinShield 30s linear infinite reverse;
            border-style: dashed;
        }

        .ring-3 {
            width: 440px;
            height: 440px;
            z-index: 7;
            opacity: 0.5;
        }

        @keyframes spinShield {
            100% {
                transform: rotate(360deg);
            }
        }

        /* Threat Particles */
        .threat-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #FF4444;
            border-radius: 50%;
            opacity: 0;
            filter: blur(2px);
        }

        /* Content Right */
        .privacy-content {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .privacy-headline {
            font-family: var(--font-display);
            font-size: clamp(48px, 4vw, 64px);
            font-weight: 600;
            color: #FFFFFF;
            margin-bottom: 30px;
            line-height: 1.1;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .privacy-subhead {
            font-family: var(--font-body);
            font-size: 24px;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 20px;
        }

        .privacy-micro {
            font-size: 14px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lock-icon {
            width: 16px;
            height: 16px;
            fill: rgba(255, 255, 255, 0.9);
        }

        /* Light eyebrow for sections with video backgrounds */
        .section-privacy .eyebrow {
            color: rgba(255, 255, 255, 0.7);
        }

        /* Remove Privacy Section Top/Bottom Fades */
        .video-overlay-gradient {
            display: none;
        }

        @media (max-width: 900px) {
            .privacy-container {
                grid-template-columns: 1fr;
                /* Stack Vertical */
                display: flex;
                flex-direction: column-reverse;
                /* Text on top? No, let's keep visual top for mobile hook or bottom? Let's do Text Top */
                flex-direction: column;
            }

            .privacy-visual {
                height: 350px;
            }

            .ring-3 {
                width: 300px;
                height: 300px;
            }

            .ring-2 {
                width: 220px;
                height: 220px;
            }

            .ring-1 {
                width: 160px;
                height: 160px;
            }
        }

        /* -----------------------------------------------------------
           SECTION 9: BUILDING IN PUBLIC (TRANSPARENCY)
        ----------------------------------------------------------- */
        .section-public {
            position: relative;
            z-index: 50;
            width: 100%;
            min-height: 85vh;
            background-color: #FAFAFA;
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .public-container {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .public-headline {
            font-family: var(--font-display);
            font-size: clamp(48px, 4vw, 72px);
            font-weight: 600;
            color: #111;
            margin-bottom: 24px;
            line-height: 1.1;
        }

        .public-subhead {
            font-family: var(--font-body);
            font-size: 24px;
            color: #666;
            margin-bottom: 60px;
        }

        /* Commit Timeline Visual */
        .commit-timeline {
            position: relative;
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 0;
            /* Connected by line */
            padding-left: 20px;
            /* Space for line */
        }

        .timeline-line {
            position: absolute;
            top: 10px;
            left: 29px;
            /* Center of dot */
            width: 2px;
            height: 100%;
            background: #E0E0E0;
            z-index: 1;
            transform-origin: top;
        }

        .commit-item {
            display: flex;
            align-items: center;
            gap: 24px;
            padding: 20px 0;
            position: relative;
            z-index: 2;
        }

        .commit-dot {
            width: 20px;
            height: 20px;
            background: #FFF;
            border: 4px solid #111;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .commit-item.latest .commit-dot {
            background: #39FF14;
            /* Live green */
            border-color: #39FF14;
            box-shadow: 0 0 15px rgba(57, 255, 20, 0.4);
        }

        .commit-content {
            background: #FFF;
            border: 1px solid rgba(0, 0, 0, 0.05);
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
            text-align: left;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .commit-msg {
            font-family: 'SF Mono', 'Menlo', monospace;
            font-size: 14px;
            color: #333;
        }

        .commit-hash {
            font-family: 'SF Mono', 'Menlo', monospace;
            font-size: 12px;
            color: #999;
        }

        .github-cta-row {
            margin-top: 60px;
            display: flex;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .commit-timeline {
                padding-left: 0;
                align-items: center;
            }

            .timeline-line {
                opacity: 0;
            }

            /* Hide line on mobile usually safer or keep it */
            .commit-item {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }

            .timeline-line {
                left: 50%;
                transform: translateX(-50%);
            }

            .commit-content {
                flex-direction: column;
                gap: 5px;
                align-items: center;
            }
        }



        /* -----------------------------------------------------------
           SECTION 12: OPEN SOURCE (NO BLACK BOXES)
        ----------------------------------------------------------- */
        .section-open {
            position: relative;
            z-index: 50;
            width: 100%;
            min-height: 85vh;
            background-color: #FFFFFF;
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .open-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: flex-start;
            /* Expand downward */
        }

        .open-content {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding-top: 40px;
            /* Align with visual top */
        }

        .open-headline {
            font-family: var(--font-display);
            font-size: clamp(48px, 4vw, 72px);
            font-weight: 600;
            color: #111;
            margin-bottom: 24px;
            line-height: 1.1;
        }

        /* File Tree Visual */
        .file-tree-card {
            background: #FAFAFA;
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(0, 0, 0, 0.05);
            font-family: 'SF Mono', 'Menlo', monospace;
            font-size: 14px;
            color: #444;
            min-height: 400px;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.03);
        }

        .tree-root {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .tree-item {
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0.7;
        }

        .folder-icon {
            width: 16px;
            height: 16px;
            fill: #111;
            opacity: 0.5;
        }

        .file-icon {
            width: 14px;
            height: 14px;
            fill: #999;
        }

        .file-name {
            color: #333;
        }

        .tree-children {
            padding-left: 24px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
            border-left: 1px solid rgba(0, 0, 0, 0.1);
        }

        .mit-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: #F0F0F0;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-top: 30px;
        }

        @media (max-width: 900px) {
            .open-container {
                grid-template-columns: 1fr;
                /* Stack: Text Top */
            }

            .file-tree-card {
                min-height: auto;
            }
        }

        /* SECTION 13: TOKEN ($KR8TIV) */
        .section-token {
            position: relative;
            z-index: 50;
            width: 100%;
            min-height: 90vh;
            background-color: #FFFFFF;
            /* Pure White */
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .token-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            position: relative;
            z-index: 2;
        }

        /* 2-Column Split */
        .token-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        /* Content Left */
        .token-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .token-eyebrow {
            font-family: 'DM Sans', sans-serif;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #000;
            font-weight: 600;
            margin-bottom: 24px;
            opacity: 0.5;
        }

        .token-headline {
            font-family: 'Clash Display', sans-serif;
            font-size: 64px;
            line-height: 1.1;
            color: #000000;
            font-weight: 600;
            margin-bottom: 30px;
            letter-spacing: -1px;
        }

        .token-subhead {
            font-family: 'DM Sans', sans-serif;
            font-size: 20px;
            line-height: 1.5;
            color: #444;
            max-width: 440px;
            margin-bottom: 20px;
        }

        .token-micro {
            font-family: 'DM Sans', sans-serif;
            font-size: 14px;
            color: #888;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 40px;
        }

        .token-micro::before {
            content: '';
            display: inline-block;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #39FF14;
            /* Electric Green */
        }

        /* Visual Right */
        .token-visual {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 600px;
        }

        /* The Crystal Token (CSS Only) */
        .chrome-token {
            width: 280px;
            height: 280px;
            background: linear-gradient(135deg, #f0f0f0 0%, #ffffff 50%, #d4d4d4 100%);
            border-radius: 50%;
            position: relative;
            box-shadow:
                0 20px 50px rgba(0, 0, 0, 0.1),
                inset 0 0 60px rgba(255, 255, 255, 0.8),
                inset 10px 10px 40px rgba(255, 255, 255, 1),
                inset -10px -10px 40px rgba(0, 0, 0, 0.1);
            animation: floatToken 6s ease-in-out infinite;
        }

        .chrome-token::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: radial-gradient(circle, #ffffff 30%, #e0e0e0 100%);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        /* Token Rings (Orbiting Labels) */
        .token-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 1px solid rgba(57, 255, 20, 0.2);
            background: transparent;
            pointer-events: none;
        }

        .ring-outer {
            width: 480px;
            height: 480px;
            border-color: rgba(0, 0, 0, 0.08);
            animation: spinRingSlow 40s linear infinite;
        }

        .ring-middle {
            width: 380px;
            height: 380px;
            border-color: rgba(57, 255, 20, 0.15);
            border-style: dashed;
            animation: spinRingSlow 30s linear infinite reverse;
        }

        .ring-label {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'DM Sans', sans-serif;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(0, 0, 0, 0.4);
            background: #FFFFFF;
            padding: 4px 12px;
            border-radius: 100px;
            white-space: nowrap;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .ring-middle .ring-label {
            color: #39FF14;
            background: rgba(57, 255, 20, 0.05);
            border-color: rgba(57, 255, 20, 0.2);
        }

        @keyframes spinRingSlow {
            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        /* Nodes / Connections */
        .connection-node {
            position: absolute;
            width: 40px;
            height: 40px;
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            font-weight: 700;
            font-size: 12px;
            font-family: 'DM Sans', sans-serif;
            color: #666;
            z-index: 10;
        }

        /* Connecting Lines (SVG overlay concept via CSS) */
        .node-line {
            position: absolute;
            height: 1px;
            background: rgba(0, 0, 0, 0.1);
            top: 50%;
            left: 50%;
            transform-origin: 0 0;
            z-index: 1;
        }

        /* Logos */
        .bags-logo {
            margin-top: 10px;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 100px;
            transition: all 0.3s ease;
        }

        .bags-logo:hover {
            border-color: #000;
            background: #fafafa;
        }

        @keyframes floatToken {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        @media (max-width: 900px) {
            .token-grid {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .token-content {
                align-items: center;
            }

            .token-subhead,
            .token-headline {
                max-width: 100%;
            }

            .token-visual {
                height: 400px;
            }

            .chrome-token {
                width: 200px;
                height: 200px;
            }
        }

        /* SECTION 15: ROADMAP */
        .section-roadmap {
            position: relative;
            z-index: 50;
            width: 100%;
            background-color: #F5F5F7;
            /* Light grey contrast */
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .roadmap-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .roadmap-header {
            text-align: center;
            margin-bottom: 80px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .roadmap-eyebrow {
            font-family: 'DM Sans', sans-serif;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #000;
            font-weight: 600;
            margin-bottom: 20px;
            opacity: 0.5;
            display: block;
        }

        .roadmap-headline {
            font-family: 'Clash Display', sans-serif;
            font-size: 56px;
            line-height: 1.1;
            color: #000;
            font-weight: 600;
            letter-spacing: -1px;
        }

        /* 3-Column Grid */
        .roadmap-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 40px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding-top: 40px;
        }

        .roadmap-col {
            position: relative;
        }

        .col-title {
            font-family: 'DM Sans', sans-serif;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #888;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Status Dot */
        .status-dot-sm {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .dot-green {
            background-color: #39FF14;
            box-shadow: 0 0 10px rgba(57, 255, 20, 0.4);
        }

        .dot-blue {
            background-color: #007AFF;
            box-shadow: 0 0 10px rgba(0, 122, 255, 0.3);
        }

        .dot-grey {
            background-color: #ccc;
            border: 1px solid #aaa;
        }

        /* Milestones */
        .milestone-list {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .milestone-item {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 16px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .milestone-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.06);
        }

        /* Icons */
        .status-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 2px;
        }

        .icon-check {
            color: #39FF14;
        }

        .icon-pulse {
            width: 14px;
            /* visually smaller circle */
            height: 14px;
            border: 2px solid #007AFF;
            border-radius: 50%;
            position: relative;
        }

        .icon-pulse::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid #007AFF;
            animation: pulseRing 2s infinite;
        }

        .icon-lock {
            color: #ccc;
        }

        .milestone-text {
            font-family: 'DM Sans', sans-serif;
            font-size: 16px;
            color: #333;
            font-weight: 500;
            line-height: 1.4;
        }

        .milestone-sub {
            font-size: 13px;
            color: #888;
            margin-top: 4px;
            display: block;
            font-weight: 400;
        }

        /* Opacity for Later */
        .later-col {
            opacity: 0.6;
        }

        @keyframes pulseRing {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.8;
            }

            100% {
                transform: translate(-50%, -50%) scale(2);
                opacity: 0;
            }
        }

        @media (max-width: 900px) {
            .roadmap-grid {
                grid-template-columns: 1fr;
                gap: 60px;
            }

            .roadmap-headline {
                font-size: 42px;
            }
        }

        /* SECTION 16: COMMUNITY */
        .section-community {
            position: relative;
            z-index: 50;
            width: 100%;
            background-color: #FFFFFF;
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            display: flex;
            justify-content: center;
            overflow: hidden;
        }

        .community-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            /* Text Left, Visual Right */
            gap: 60px;
            align-items: center;
        }

        /* Text */
        .comm-content {
            max-width: 500px;
        }

        .comm-eyebrow {
            font-family: 'DM Sans', sans-serif;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #000;
            font-weight: 600;
            margin-bottom: 24px;
            opacity: 0.5;
            display: block;
        }

        .comm-headline {
            font-family: 'Clash Display', sans-serif;
            font-size: 64px;
            line-height: 1.1;
            color: #000;
            font-weight: 600;
            margin-bottom: 30px;
            letter-spacing: -1px;
        }

        .comm-subhead {
            font-family: 'DM Sans', sans-serif;
            font-size: 20px;
            line-height: 1.5;
            color: #444;
            margin-bottom: 40px;
        }

        /* Hex Visual */
        .comm-visual {
            position: relative;
            height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hex-grid {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .hex-node {
            position: absolute;
            width: 80px;
            height: 90px;
            background-color: #F5F5F7;
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }

        .hex-node.active {
            background-color: #111;
            z-index: 2;
        }

        /* Green Dot inside active hexes */
        .hex-node.active::after {
            content: '';
            width: 8px;
            height: 8px;
            background: #39FF14;
            border-radius: 50%;
            box-shadow: 0 0 15px #39FF14;
        }

        @media (max-width: 900px) {
            .community-container {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .comm-content {
                margin: 0 auto;
            }

            .comm-visual {
                height: 300px;
            }

            .btn-group {
                justify-content: center !important;
            }

            .hex-node {
                width: 60px;
                height: 70px;
            }
        }

        /* SECTION 17: FINAL CTA + FOOTER */
        .section-final-cta {
            position: relative;
            z-index: 50;
            width: 100%;
            background-color: #0A0A0A;
            padding-top: var(--section-gap);
            padding-bottom: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }

        /* --- DATA STREAMS (High Polish) --- */
        .section-final-cta .data-stream {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(57, 255, 20, 0.4), transparent);
            opacity: 0;
            will-change: transform, opacity;
            border-radius: 1px;
            filter: drop-shadow(0 0 4px rgba(57, 255, 20, 0.5));
        }

        .section-final-cta .ds-h {
            height: 2px;
            width: 150px;
            animation: finalFlowH 7s linear infinite;
            background: linear-gradient(90deg, transparent, #39FF14, transparent);
        }

        .section-final-cta .ds-v {
            width: 2px;
            height: 150px;
            animation: finalFlowV 7s linear infinite;
            background: linear-gradient(180deg, transparent, #39FF14, transparent);
        }

        @keyframes finalFlowH {
            0% {
                transform: translateX(-50%) scaleX(0.2);
                opacity: 0;
            }

            20% {
                opacity: 1;
                transform: translateX(0) scaleX(1);
            }

            80% {
                opacity: 1;
                transform: translateX(50%) scaleX(1);
            }

            100% {
                transform: translateX(100%) scaleX(0.2);
                opacity: 0;
            }
        }

        @keyframes finalFlowV {
            0% {
                transform: translateY(-50%) scaleY(0.2);
                opacity: 0;
            }

            20% {
                opacity: 1;
                transform: translateY(0) scaleY(1);
            }

            80% {
                opacity: 1;
                transform: translateY(50%) scaleY(1);
            }

            100% {
                transform: translateY(100%) scaleY(0.2);
                opacity: 0;
            }
        }

        /* Video Background Layer */
        .final-video-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            /* GPU layer containment for mobile */
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform: translate3d(0, 0, 0);
            -webkit-transform: translate3d(0, 0, 0);
            contain: layout paint;
        }

        .final-video-bg video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.5;
            transform: scale(1);
            transition: transform 0.1s ease-out;
        }

        .final-video-overlay {
            display: none;
            /* Removed tint */
        }

        .cta-container {
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            text-align: center;
        }

        .final-headline {
            font-family: 'Clash Display', sans-serif;
            font-size: 64px;
            line-height: 1.1;
            color: #FFF;
            font-weight: 600;
            margin-bottom: 24px;
            letter-spacing: -1px;
        }

        .final-subhead {
            font-family: 'DM Sans', sans-serif;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 60px;
        }

        /* 3 Paths Grid */
        .path-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            margin-bottom: 120px;
        }

        .path-card {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            height: 100%;
            min-height: 320px;
        }

        .path-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .path-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            font-size: 24px;
        }

        .path-title {
            font-family: 'Clash Display', sans-serif;
            font-size: 24px;
            font-weight: 600;
            color: #FFF;
            margin-bottom: 12px;
        }

        .path-desc {
            font-size: 15px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: auto;
            /* push button down */
            line-height: 1.5;
            max-width: 240px;
        }

        .path-btn {
            margin-top: 30px;
            padding: 12px 28px;
            border-radius: 100px;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-block;
        }

        /* Variants */
        .path-btn-primary {
            background: #000;
            color: #fff;
        }

        .path-btn-primary:hover {
            background: #222;
            transform: scale(1.02);
        }

        .path-btn-accent {
            background: #39FF14;
            color: #000;
            font-weight: 600;
        }

        .path-btn-accent:hover {
            background: #32D912;
            transform: scale(1.02);
        }

        .path-btn-ghost {
            background: transparent;
            color: #FFF;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .path-btn-ghost:hover {
            background: #fff;
            color: #000;
            border-color: #fff;
        }

        /* Footer */
        .site-footer {
            width: 100%;
            border-top: 1px solid rgba(255, 255, 255, 0.12);
            padding-top: 60px;
            padding-bottom: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .footer-logo {
            font-family: 'Clash Display', sans-serif;
            font-weight: 600;
            font-size: 20px;
            letter-spacing: -0.5px;
            color: #FFF;
        }

        .footer-links {
            display: flex;
            gap: 40px;
        }

        .footer-link {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.72);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-link:hover {
            color: #FFF;
        }

        .footer-social {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .footer-social-link {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            transition: color 0.2s, text-shadow 0.2s;
        }

        .footer-social-link:hover {
            color: #39FF14;
            text-shadow: 0 0 8px rgba(57, 255, 20, 0.4);
        }

        .footer-copy {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
        }

        /* --- FIX PACK V1.0 (MOBILE PATCHES) --- */
        @media (max-width: 900px) {

            /* Existing Fixes preserved */
            .hero-subtitle {
                padding-left: 10px;
                padding-right: 10px;
            }

            .final-headline {
                font-size: 42px;
            }

            /* Section 13: Token Stacking */
            .token-container {
                padding: 0 20px;
            }

            .token-grid {
                grid-template-columns: 1fr !important;
                gap: 50px;
                text-align: center;
                justify-items: center;
            }

            .token-content {
                align-items: center;
                width: 100%;
                text-align: center;
            }

            .token-subhead {
                margin-left: auto;
                margin-right: auto;
            }

            .token-headline {
                font-size: clamp(40px, 10vw, 56px);
            }

            .token-micro {
                justify-content: center;
                text-align: center;
            }

            #tokBtnGroup {
                justify-content: center !important;
                align-items: center !important;
                width: 100%;
            }

            #tokLogos {
                width: 100%;
            }

            #tokLogos > div {
                justify-content: center !important;
                align-items: center !important;
                width: 100%;
            }

            .token-visual {
                min-height: 350px;
                height: auto;
                width: 100%;
            }

            #tokenVisual {
                transform: none !important;
            }

            .chrome-token {
                width: 160px;
                height: 160px;
            }

            /* Section 15: Roadmap Stacking */
            .roadmap-grid {
                grid-template-columns: 1fr !important;
                gap: 50px;
                padding-top: 0;
                border-top: none;
            }

            .roadmap-col {
                padding-left: 15px;
                border-left: 2px solid rgba(0, 0, 0, 0.05);
                /* Mobile Timeline Line */
            }

            /* Section 16: Community Adjustments */
            .comm-visual {
                height: 350px;
                transform: scale(0.85);
                /* Fit hex grid on screen */
            }

            /* Section 17: Final CTA Stacking */
            .path-grid {
                grid-template-columns: 1fr !important;
                gap: 24px;
                margin-bottom: 60px;
            }

            .path-card {
                min-height: auto;
                padding: 30px 20px;
            }

            /* Footer Mobile */
            .footer-links {
                flex-direction: column;
                gap: 24px;
            }

            .site-footer {
                gap: 40px;
            }
        }

        /* Fix "The Split" Card widths on huge screens */
        .glass-card {
            max-width: 100%;
            /* Default */
        }

        @media (min-width: 1200px) {
            .glass-card {
                width: 100%;
                /* Ensure they fill grid cell but dont look weird */
            }
        }

        /* --- NANOBANANA ROUTE VIZ --- */
        .route-viz-container {
            width: 100%;
            height: 160px;
            position: relative;
            margin-top: 24px;
            z-index: 1;
            /* Above video */
        }

        .route-viz {
            width: 100%;
            height: 100%;
            display: block;
            pointer-events: none;
            transform: scale(1.33);
            transform-origin: center center;
        }

        /* NanoBanana SVG Styles */
        .route-path {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 1.5;
            transition: all 0.4s ease;
        }

        .route-active {
            fill: none;
            stroke: #39FF14;
            stroke-width: 2;
            opacity: 0;
            filter: url(#glow-green);
            transition: opacity 0.4s ease;
        }

        .node-dot {
            fill: #39FF14;
            opacity: 0.8;
        }

        .node-mid {
            fill: #FFF;
            opacity: 0.3;
            transition: all 0.3s ease;
        }

        /* Packet Animation */
        .packet-trace {
            fill: none;
            stroke: #39FF14;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-dasharray: 0, 1000;
            /* Hidden by default */
            filter: drop-shadow(0 0 4px #39FF14);
            opacity: 0;
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            .route-active {
                opacity: 1 !important;
                /* Force show best route */
            }

            .packet-trace {
                display: none;
            }
        }

        /* --- SOLANA VELOCITY ENGINE (NEW) --- */
        .section-solana {
            position: relative;
            z-index: 40;
            width: 100%;
            min-height: 100vh;
            /* Full viewport height for immersion */
            background-color: #FFFFFF;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* 1. Velocity Canvas */
        .solana-velocity-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            /* Base layer */
            pointer-events: none;
        }

        /* 2. Refractive Watermark Layers */
        .watermark-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1200px;
            height: 1200px;
            z-index: 2;
            pointer-events: none;
            opacity: 0.05;
            /* Subtle base opacity */
        }

        .watermark-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('solana-logo.png');
            /* Fallback or use SVG if available */
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            transition: transform 0.1s ease-out;
        }

        /* If no image, use a CSS gradient shape placeholder or keep existing .solana-watermark logic */
        /* For this impl, we'll assume the existing solana watermark logic but layered */
        .watermark-layer {
            background-image: url('https://upload.wikimedia.org/wikipedia/en/b/b9/Solana_logo.png');
            /* Placeholder for dev */
            filter: grayscale(100%);
        }

        .layer-deep {
            filter: blur(8px) grayscale(100%);
            opacity: 0.5;
            transform: scale(0.9);
        }

        .layer-mid {
            filter: blur(4px) grayscale(100%);
            opacity: 0.8;
            transform: scale(0.95);
        }

        .layer-surface {
            filter: blur(0px) grayscale(100%);
            opacity: 1;
            transform: scale(1);
        }


        /* 3. Content Layout */
        .solana-content {
            position: relative;
            z-index: 5;
            width: 100%;
            max-width: 1200px;
            padding: 0 40px;
            text-align: center;
        }

        .solana-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            margin-top: 80px;
            margin-bottom: 80px;
        }

        @media (max-width: 768px) {
            .solana-features {
                grid-template-columns: 1fr;
                gap: 24px;
            }
        }

        /* 4. Glass Panel Modules (Modernized) */
        .glass-panel {
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(24px) saturate(180%);
            -webkit-backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 32px 24px;
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.04),
                inset 0 0 30px rgba(255, 255, 255, 0.8);
            /* EXPLICIT transition to avoid fighting GSAP opacity/transform */
            transition: background 0.4s ease, box-shadow 0.4s ease, border-color 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .glass-panel h3 {
            font-family: 'Clash Display', sans-serif;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #111;
        }

        .glass-panel p {
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        /* Panel-specific grid overrides */
        .glass-panel .bg-grid-faint {
            opacity: 1;
            z-index: 1;
            background-size: 20px 20px;
            /* Smaller grid for panel scale */
            background-image:
                linear-gradient(to right, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
        }

        .glass-panel .grid-dataflow {
            z-index: 2;
        }

        .glass-panel .data-stream.ds-h {
            width: 80px;
            height: 2px;
            animation: panelFlowH 5s linear infinite;
        }

        .glass-panel .data-stream.ds-v {
            width: 2px;
            height: 80px;
            animation: panelFlowV 6s linear infinite;
        }

        @keyframes panelFlowH {
            0% {
                left: -80px;
                opacity: 0;
            }

            10% {
                opacity: 0.4;
            }

            90% {
                opacity: 0.4;
            }

            100% {
                left: 100%;
                opacity: 0;
            }
        }

        @keyframes panelFlowV {
            0% {
                top: -80px;
                opacity: 0;
            }

            10% {
                opacity: 0.8;
            }

            90% {
                opacity: 0.8;
            }

            100% {
                top: 100%;
                opacity: 0;
            }
        }

        .glass-panel:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);
            /* Border color managed by star track now, keeping subtle */
            border-color: rgba(57, 255, 20, 0.1);
        }

        .panel-visual {
            height: 140px;
            /* Increased height for bigger icons */
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            color: #111;
        }

        /* 2x Icon Scale */
        .stat-glyph {
            transform: scale(2);
            transform-origin: center;
        }

        /* --- Star Track Border (Refined) --- */
        /* Concept: 4 synchronized runners creating 1 continuous loop */

        .star-rail {
            position: absolute;
            opacity: 0;
            /* Hidden by default */
            filter: drop-shadow(0 0 5px rgba(57, 255, 20, 0.4));
        }

        /* The "Photon" look: White core, Green tail */
        /* Top: Moves Left -> Right */
        .star-t {
            top: 0;
            left: 0;
            width: 100px;
            /* Length of the comet */
            height: 1px;
            /* Thinner for elegance */
            background: linear-gradient(90deg, transparent, rgba(57, 255, 20, 0.5) 80%, #FFFFFF 100%);
            animation: railTop 10s linear infinite;
        }

        /* Right: Moves Top -> Bottom */
        .star-r {
            top: 0;
            right: 0;
            width: 1px;
            height: 100px;
            background: linear-gradient(180deg, transparent, rgba(57, 255, 20, 0.5) 80%, #FFFFFF 100%);
            animation: railRight 10s linear infinite;
            animation-delay: 2.5s;
        }

        /* Bottom: Moves Right -> Left */
        .star-b {
            bottom: 0;
            right: 0;
            width: 100px;
            height: 1px;
            background: linear-gradient(270deg, transparent, rgba(57, 255, 20, 0.5) 80%, #FFFFFF 100%);
            animation: railBottom 10s linear infinite;
            animation-delay: 5.0s;
        }

        /* Left: Moves Bottom -> Top */
        .star-l {
            bottom: 0;
            left: 0;
            width: 1px;
            height: 100px;
            background: linear-gradient(0deg, transparent, rgba(57, 255, 20, 0.5) 80%, #FFFFFF 100%);
            animation: railLeft 10s linear infinite;
            animation-delay: 7.5s;
        }

        /* Keyframes: "Active" for 25% of time, Hidden for rest. */
        /* Transform distance: 100% of container width + own length to clear corners */

        @keyframes railTop {
            0% {
                left: -100px;
                opacity: 1;
            }

            24% {
                opacity: 1;
            }

            25% {
                left: 100%;
                opacity: 0;
            }

            /* End of run */
            100% {
                left: 100%;
                opacity: 0;
            }
        }

        @keyframes railRight {
            0% {
                top: -100px;
                opacity: 1;
            }

            24% {
                opacity: 1;
            }

            25% {
                top: 100%;
                opacity: 0;
            }

            100% {
                top: 100%;
                opacity: 0;
            }
        }

        @keyframes railBottom {
            0% {
                transform: translateX(100%);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateX(-100%);
                opacity: 0;
            }
        }

        @keyframes railLeft {
            0% {
                transform: translateY(100%);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100%);
                opacity: 0;
            }
        }

        /* 5. Micro-Animations (High Energy) */

        /* Speed: Linear Accelerator */
        .accel-group {
            animation: accelShoot 1.2s infinite cubic-bezier(0.1, 0, 0, 1);
        }

        @keyframes accelShoot {
            0% {
                transform: translateX(0);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            40% {
                transform: translateX(60px);
                opacity: 1;
            }

            41% {
                opacity: 0;
            }

            100% {
                opacity: 0;
            }
        }

        /* Cost: Quantum Compression */
        .stack-block {
            animation: quantFade 2s infinite;
        }

        .b1 {
            animation-delay: 0.0s;
        }

        .b2 {
            animation-delay: 0.1s;
        }

        .b3 {
            animation-delay: 0.2s;
        }

        .b4 {
            animation-delay: 0.3s;
        }

        @keyframes quantFade {

            0%,
            40% {
                opacity: 0.3;
                transform: scaleY(1);
            }

            50% {
                opacity: 0;
                transform: scaleY(0);
            }

            100% {
                opacity: 0;
                transform: scaleY(0);
            }
        }

        .stack-final {
            animation: quantCore 2s infinite;
        }

        @keyframes quantCore {

            0%,
            45% {
                opacity: 0.2;
                transform: scaleX(0.8);
            }

            50% {
                opacity: 1;
                transform: scaleX(1.2);
                filter: drop-shadow(0 0 5px #39FF14);
            }

            60% {
                opacity: 1;
                transform: scaleX(1);
            }

            100% {
                opacity: 0.2;
                transform: scaleX(0.8);
            }
        }

        /* Uptime: Reactor */
        .reactor-outer {
            transform-origin: 32px 32px;
            animation: reactorSpin 8s linear infinite;
        }

        .reactor-mid {
            transform-origin: 32px 32px;
            animation: reactorSpin 3s linear infinite reverse;
        }

        @keyframes reactorSpin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Interaction: Warp Speed on Hover */
        .glass-panel:hover .accel-group,
        .glass-panel:hover .accel-particle,
        .glass-panel:hover .accel-trail {
            animation-duration: 0.4s !important;
        }

        .glass-panel:hover .stack-block,
        .glass-panel:hover .stack-final {
            animation-duration: 0.8s !important;
        }

        .glass-panel:hover .reactor-outer,
        .glass-panel:hover .reactor-mid,
        .glass-panel:hover .reactor-core {
            animation-duration: 1.5s !important;
        }

        /* Final CTA Parallax & Tint Removal */
        .section-final-cta {
            position: relative;
            overflow: hidden;
            isolation: isolate;
            /* Ensure video doesn't bleed */
        }

        .final-video-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Taller for parallax movement */
            z-index: -1;
            will-change: transform;
            /* GPU layer containment for mobile */
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform: translate3d(0, 0, 0);
            -webkit-transform: translate3d(0, 0, 0);
            contain: layout paint;
        }

        .final-video-bg video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .final-video-overlay {
            /* User requested REMOVAL of tints */
            display: none !important;
            opacity: 0 !important;
        }

        /* Ensure content is above video */
        /* Ensure content is above video */
        .cta-container {
            position: relative;
            z-index: 2;
        }
    </style>
</head>

<body>

    <!-- FIXED VIEWPORT (Video + Grid) -->
    <div class="viewport-layer">

        <!-- Video -->
        <div class="video-container" id="videoWrapper">
            <!-- Using local file -->
            <video autoplay loop muted playsinline id="mainVideo" preload="metadata">
                <source src="jarvis3_mobile.mp4" type="video/mp4" media="(max-width: 768px)">
                <source src="jarvis3_optimized.webm" type="video/webm">
                <source src="jarvis3_optimized.mp4" type="video/mp4">
            </video>
        </div>

        <!-- Visual Effects -->
        <div class="scanlines"></div>
        <div class="luminous-overlay"></div>

        <!-- Interactive Canvas -->
        <canvas id="physics-canvas"></canvas>
    </div>

    <!-- SCROLL CONTENT -->
    <div class="scroll-container">

        <!-- Nav -->
        <nav>
            <div class="logo-group">
                <a href="#" class="logo">JARVIS</a>
                <a href="https://kr8tiv.ai" target="_blank" class="by-kr8tiv">
                    <span>by</span>
                    <img src="kr8tiv.png" alt="KR8TIV">
                </a>
            </div>

            <div class="nav-center">
                <a href="#tradingCore" class="nav-link">Capabilities</a>
                <a href="#sectionPrivacy" class="nav-link">Intelligence</a>
                <a href="docs.html" class="nav-link">Docs</a>
                <a href="https://kr8tiv.ai" class="nav-link" target="_blank">Enterprise</a>
                <a href="https://kr8tiv.web.app/" class="nav-link nav-sniper" target="_blank">Try Sniper <span class="pre-alpha-pill">PRE-ALPHA</span></a>
            </div>

            <div class="nav-right">
                <!-- Social Icons -->
                <div class="social-row">
                    <!-- X (Twitter) -->
                    <a href="https://x.com/kr8tivai" class="social-icon" title="X" target="_blank">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                        </svg>
                    </a>
                    <!-- LinkedIn -->
                    <a href="https://www.linkedin.com/in/matthaynes88" class="social-icon" title="LinkedIn"
                        target="_blank">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                        </svg>
                    </a>
                    <!-- Telegram -->
                    <a href="https://t.me/kr8tivaisystems" class="social-icon" title="Telegram" target="_blank">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z" />
                        </svg>
                    </a>
                    <!-- DexScreener -->
                    <a href="https://dexscreener.com/solana/gnfeekylr79s7jkbippznlkivm1ufqmpnbqs96mxmgqq"
                        class="social-icon" title="DexScreener" target="_blank">
                        <img src="dexscreener.webp" alt="DexScreener" style="width: 20px; height: 20px; border-radius: 4px; filter: brightness(0) invert(1);">
                    </a>
                </div>

                <a href="https://github.com/kr8tiv-io/Jarvis-by-Kr8tiv-Website" class="btn-ghost btn-github"><svg
                        class="github-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                    </svg>Star on GitHub</a>
            </div>
        </nav>

        <!-- Tall Hero Section (1100px) -->
        <section class="hero-section">
            <div class="hero-content" id="heroContent">
                <div class="pill-badge">Autonomous Trading Pre-Alpha Available Now</div>
                <h1 class="hero-title">Jarvis is not a chatbot.<br>It's your LifeOS.</h1>
                <p class="hero-subtitle">Runs locally. Watches, learns, acts, and evolves—24/7 on your Mac. Designed for
                    the luminous future of personal computing.</p>

                <div class="btn-group">
                    <a href="https://github.com/kr8tiv-io/Jarvis-by-Kr8tiv-Website" class="btn-primary">Install Jarvis</a>
                    <a href="https://github.com/kr8tiv-io/Jarvis-by-Kr8tiv-Website" class="btn-ghost">View Documentation</a>
                </div>
            </div>
        </section>

        <!-- SECTION 2: THE SPLIT -->
        <section class="section-split" id="sectionSplit">
            <div class="bg-grid-faint"></div>

            <!-- Dataflow Lights -->
            <div class="grid-dataflow">
                <!-- Horizontals -->
                <div class="data-stream ds-h" style="top: 120px; left: 0; animation-duration: 7s; animation-delay: 0s;">
                </div>
                <div class="data-stream ds-h" style="top: 360px; left: 0; animation-duration: 9s; animation-delay: 2s;">
                </div>
                <div class="data-stream ds-h" style="top: 600px; left: 0; animation-duration: 6s; animation-delay: 4s;">
                </div>
                <div class="data-stream ds-h"
                    style="top: 840px; left: 0; animation-duration: 10s; animation-delay: 1s;"></div>

                <!-- Verticals -->
                <div class="data-stream ds-v"
                    style="left: 120px; top: 0; animation-duration: 8s; animation-delay: 1.5s;"></div>
                <div class="data-stream ds-v"
                    style="left: 480px; top: 0; animation-duration: 11s; animation-delay: 0.5s;"></div>
                <div class="data-stream ds-v" style="left: 840px; top: 0; animation-duration: 7s; animation-delay: 3s;">
                </div>
                <div class="data-stream ds-v"
                    style="left: 1200px; top: 0; animation-duration: 9s; animation-delay: 2.5s;"></div>
            </div>

            <div class="scanline-overlay"></div>

            <div class="split-container">
                <!-- Header -->
                <div class="split-header">
                    <span class="eyebrow" id="splitEyebrow">Two Worlds. One System.</span>
                    <!-- Beats Play Button -->
                    <button class="beats-play-btn" id="beatsPlayBtn" title="Play beats">
                        <svg class="play-icon" viewBox="0 0 24 24">
                            <path d="M8 5v14l11-7z"/>
                        </svg>
                        <svg class="pause-icon" viewBox="0 0 24 24" style="display: none;">
                            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                        </svg>
                    </button>
                    <audio id="beatsAudio" src="beats.mp3" loop></audio>
                    <h2 class="split-headline" id="splitHeadline">Life gets noisy.<br>Markets get faster.</h2>
                    <p class="split-subhead" id="splitSubhead">Jarvis is built for both.</p>
                </div>

                <!-- Cards -->
                <div class="cards-row">
                    <!-- Left Card (Bots) -->
                    <div class="glass-card" id="cardLeft">
                        <div class="card-video-layer">
                            <video autoplay loop muted playsinline preload="metadata" class="lazy-video">
                                <source src="section2-1_mobile.mp4" type="video/mp4" media="(max-width: 768px)">
                                <source src="section2-1.webm" type="video/webm">
                                <source src="section2-1_optimized.mp4" type="video/mp4">
                            </video>
                        </div>
                        <p class="card-text">Bots are winning in<br>crypto markets.</p>
                    </div>

                    <!-- Center Unifier -->
                    <div class="center-unifier" id="centerUnifier">
                        <div class="accent-line" id="accentLine"></div>
                        <div class="unifier-text" id="unifierText">Jarvis handles both — quietly, locally, continuously.
                        </div>
                    </div>

                    <!-- Right Card (Drowning) -->
                    <div class="glass-card" id="cardRight">
                        <div class="card-video-layer">
                            <video autoplay loop muted playsinline preload="metadata" class="lazy-video">
                                <source src="section2-2_mobile.mp4" type="video/mp4" media="(max-width: 768px)">
                                <source src="section2-2.webm" type="video/webm">
                                <source src="section2-2_optimized.mp4" type="video/mp4">
                            </video>
                        </div>
                        <p class="card-text">You're drowning in<br>busy work.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- MANIFESTO MARQUEE (Pinned Scroll Gate) -->
        <section class="manifesto-section" id="manifesto">
            <canvas id="manifesto-canvas"></canvas>
            <h2 class="sr-only">Open source manifesto</h2>
            <div class="manifesto-inner">
                <div class="manifesto-track" aria-hidden="true">
                    <span class="word"><span class="letter">A</span><span class="letter">L</span><span
                            class="letter">W</span><span class="letter">A</span><span class="letter">Y</span><span
                            class="letter">S</span></span>
                    <span class="word"><span class="letter">O</span><span class="letter">P</span><span
                            class="letter">E</span><span class="letter">N</span></span>
                    <span class="word"><span class="letter">S</span><span class="letter">O</span><span
                            class="letter">U</span><span class="letter">R</span><span class="letter">C</span><span
                            class="letter">E</span></span>
                    <span class="sep">—</span>
                    <span class="word"><span class="letter">N</span><span class="letter">O</span></span>
                    <span class="word"><span class="letter">B</span><span class="letter">L</span><span
                            class="letter">A</span><span class="letter">C</span><span class="letter">K</span></span>
                    <span class="word"><span class="letter">B</span><span class="letter">O</span><span
                            class="letter">X</span><span class="letter">E</span><span class="letter">S</span></span>
                    <span class="sep">—</span>
                    <span class="word"><span class="letter">F</span><span class="letter">R</span><span
                            class="letter">E</span><span class="letter">E</span><span class="letter">D</span><span
                            class="letter">O</span><span class="letter">M</span></span>
                    <span class="word"><span class="letter">T</span><span class="letter">H</span><span
                            class="letter">R</span><span class="letter">O</span><span class="letter">U</span><span
                            class="letter">G</span><span class="letter">H</span></span>
                    <span class="word"><span class="letter">S</span><span class="letter">O</span><span
                            class="letter">F</span><span class="letter">T</span><span class="letter">W</span><span
                            class="letter">A</span><span class="letter">R</span><span class="letter">E</span></span>
                </div>
            </div>
            <a href="manifesto.html" style="display:block;text-align:center;padding:24px 0 0;font-family:var(--font-body);font-size:13px;color:rgba(255,255,255,0.35);text-decoration:none;letter-spacing:0.05em;transition:color 0.2s;" onmouseover="this.style.color='rgba(255,255,255,0.7)'" onmouseout="this.style.color='rgba(255,255,255,0.35)'">read the full manifesto &rarr;</a>
        </section>

        <!-- SECTION 3: SOLANA VELOCITY ENGINE -->
        <section class="section-solana" id="sectionSolana">
            <!-- CANVAS ENGINE: The High-Speed Transaction Stream -->
            <canvas id="solanaCanvas" class="solana-velocity-canvas"></canvas>

            <!-- REFRACTIVE WATERMARK (Parallax Layers) -->
            <div class="watermark-container">
                <div class="watermark-layer layer-deep"></div>
                <div class="watermark-layer layer-mid"></div>
                <div class="watermark-layer layer-surface"></div>
            </div>

            <div class="solana-content">
                <span class="eyebrow" id="solEyebrow">Solana Native</span>
                <h2 class="solana-headline" id="solHeadline">Built on Solana</h2>
                <p class="solana-subhead" id="solSubhead">Low fees. Fast execution. Always-on markets.</p>

                <div class="solana-features">
                    <!-- SPEED: Jarvis Accelerator -->
                    <div class="feature-item solana-card" id="statSpeed">
                        <div class="solana-card-inner">
                            <div class="card-grid"></div>
                            <div class="card-accent"></div>
                            <div class="card-haze"></div>

                            <div class="panel-visual">
                                <svg class="stat-glyph-premium" viewBox="0 0 80 80" fill="none">
                                    <defs>
                                        <linearGradient id="gradSpeed" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" style="stop-color:#39FF14;stop-opacity:0" />
                                            <stop offset="50%" style="stop-color:#39FF14;stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#39FF14;stop-opacity:0" />
                                        </linearGradient>
                                    </defs>
                                    <!-- Orbit Track -->
                                    <circle cx="40" cy="40" r="30" stroke="#000" stroke-opacity="0.1" stroke-width="1.5"
                                        stroke-dasharray="4 4" />
                                    <!-- Speed Arc -->
                                    <path d="M15 40 A 25 25 0 0 1 65 40" stroke="url(#gradSpeed)" stroke-width="2"
                                        stroke-linecap="round" class="speed-arc" />
                                    <!-- Center Core -->
                                    <circle cx="40" cy="40" r="4" fill="#111" />
                                    <circle cx="40" cy="40" r="12" stroke="#39FF14" stroke-opacity="0.5"
                                        stroke-width="1" class="pulse-ring" />
                                </svg>
                            </div>
                            <h3>Speed</h3>
                            <p>Block times measured in milliseconds.</p>
                        </div>
                    </div>

                    <!-- COST: Micro-Mesh -->
                    <div class="feature-item solana-card" id="statCost">
                        <div class="solana-card-inner">
                            <div class="card-grid"></div>
                            <div class="card-accent"></div>
                            <div class="card-haze"></div>

                            <div class="panel-visual">
                                <svg class="stat-glyph-premium" viewBox="0 0 80 80" fill="none">
                                    <!-- Stacked Plates -->
                                    <path d="M25 55 L55 55 L60 50 L30 50 Z" fill="#111" fill-opacity="0.05" />
                                    <path d="M25 45 L55 45 L60 40 L30 40 Z" fill="#111" fill-opacity="0.1" />
                                    <path d="M25 35 L55 35 L60 30 L30 30 Z" fill="#111" fill-opacity="0.2" />
                                    <!-- Hero Coin -->
                                    <path d="M25 25 L55 25 L60 20 L30 20 Z" fill="#39FF14" class="hero-chip" />
                                    <path d="M30 20 L60 20" stroke="#39FF14" stroke-width="1" stroke-opacity="0.6" />
                                </svg>
                            </div>
                            <h3>Cost</h3>
                            <p>Fractions of a penny per trade.</p>
                        </div>
                    </div>

                    <!-- UPTIME: Shield Reactor -->
                    <div class="feature-item solana-card" id="statUptime">
                        <div class="solana-card-inner">
                            <div class="card-grid"></div>
                            <div class="card-accent"></div>
                            <div class="card-haze"></div>

                            <div class="panel-visual">
                                <svg class="stat-glyph-premium" viewBox="0 0 80 80" fill="none">
                                    <defs>
                                        <filter id="glowGreen">
                                            <feGaussianBlur stdDeviation="2" result="coloredBlur" />
                                            <feMerge>
                                                <feMergeNode in="coloredBlur" />
                                                <feMergeNode in="SourceGraphic" />
                                            </feMerge>
                                        </filter>
                                    </defs>
                                    <!-- Shield Hex -->
                                    <path d="M40 10 L66 25 V55 L40 70 L14 55 V25 Z" stroke="#000" stroke-opacity="0.1"
                                        stroke-width="1.5" />
                                    <!-- Inner Pulse -->
                                    <path d="M40 20 L58 30 V50 L40 60 L22 50 V30 Z" stroke="#39FF14" stroke-width="2"
                                        fill="none" class="shield-pulse" filter="url(#glowGreen)" />
                                    <!-- Core Dot -->
                                    <circle cx="40" cy="40" r="3" fill="#39FF14" />
                                </svg>
                            </div>
                            <h3>Uptime</h3>
                            <p>Markets that never sleep.</p>
                        </div>
                    </div>
                </div>

                <div class="tech-stack" id="techStack">
                    <div class="microline">Jupiter routing + Jito protection — baked in</div>
                    <!-- Partner Ecosystem Lockup -->
                    <div class="ecosystem-lockup">
                        <a href="https://solana.com" target="_blank" rel="noopener noreferrer" class="partner-chip"
                            aria-label="Solana">
                            <img src="icons/solana.png" alt="Solana" class="icon-solana">
                        </a>
                        <a href="https://jup.ag" target="_blank" rel="noopener noreferrer" class="partner-chip"
                            aria-label="Jupiter">
                            <img src="icons/jupiter.png" alt="Jupiter" class="icon-jup">
                        </a>
                        <a href="https://www.jito.network" target="_blank" rel="noopener noreferrer"
                            class="partner-chip" aria-label="Jito">
                            <img src="icons/jito.png" alt="Jito" class="icon-jito">
                        </a>
                        <a href="https://raydium.io" target="_blank" rel="noopener noreferrer" class="partner-chip"
                            aria-label="Raydium">
                            <img src="icons/raydium.png" alt="Raydium" class="icon-ray">
                        </a>
                        <a href="https://www.orca.so" target="_blank" rel="noopener noreferrer" class="partner-chip"
                            aria-label="Orca">
                            <img src="icons/orca.png" alt="Orca" class="icon-orca">
                        </a>
                    </div>
                </div>

                <a href="https://github.com/kr8tiv-io/Jarvis-by-Kr8tiv-Website" class="cta-link" id="solCta" target="_blank">Read the trading architecture →</a>
            </div>
        </section>

        <!-- SECTION 4: TRADING CORE -->
        <section class="trading-core" id="tradingCore">
            <div class="core-container">
                <!-- Text -->
                <div class="core-text">
                    <span class="eyebrow" id="coreEyebrow">Trading Core</span>
                    <h2 class="core-headline" id="coreHeadline">While you<br>sleep.</h2>
                    <p class="core-subhead" id="coreSubhead">Dozens of strategies tested across hundreds of Solana
                        assets.</p>

                    <div class="honesty-badge" id="honestyBadge">
                        <div class="status-dot"></div>
                        <span>Try our autonomous demo</span>
                    </div>

                    <a href="https://kr8tiv.web.app/" class="cta-link" id="coreCta" target="_blank">Try our autonomous demo →</a>
                </div>

                <!-- Visuals (Cards) -->
                <div class="strategy-deck">
                    <!-- Card 1: Rejected -->
                    <div class="strategy-card strat-rejected" style="z-index: 1;">
                        <div class="strat-header">
                            <span class="strat-name">Mean Reversion B</span>
                            <span class="strat-status status-rejected">Rejected</span>
                        </div>
                        <div class="strat-metrics">
                            <div class="metric">
                                <h4>Win Rate</h4>
                                <div>42%</div>
                            </div>
                            <div class="metric">
                                <h4>Sharpe</h4>
                                <div>0.8</div>
                            </div>
                        </div>
                    </div>

                    <!-- Card 2: Survivor (Active) -->
                    <div class="strategy-card strat-survivor" style="z-index: 2; top: -20px; left: 20px;">
                        <div class="strat-header">
                            <span class="strat-name">Momentum Breakout</span>
                            <span class="strat-status status-active">Active</span>
                        </div>
                        <div class="strat-metrics">
                            <div class="metric">
                                <h4>Win Rate</h4>
                                <div>68%</div>
                            </div>
                            <div class="metric">
                                <h4>Sharpe</h4>
                                <div>2.1</div>
                            </div>
                        </div>
                    </div>

                    <!-- Card 3: Survivor (Prime) -->
                    <div class="strategy-card strat-survivor-prime" style="z-index: 3; top: 40px; left: -20px;">
                        <div class="strat-header">
                            <span class="strat-name">Volatility Scalp</span>
                            <span class="strat-status status-active">Active</span>
                        </div>
                        <div class="strat-metrics">
                            <div class="metric">
                                <h4>Win Rate</h4>
                                <div>72%</div>
                            </div>
                            <div class="metric">
                                <h4>Sharpe</h4>
                                <div>1.9</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: EXECUTION LAYER -->
        <section class="execution-layer" id="executionLayer">
            <!-- BACKGROUND EFFECTS -->
            <div class="bg-grid-faint"></div>

            <div class="grid-dataflow">
                <div class="data-stream ds-h" style="top: 15%; left: 0; animation-duration: 8s; animation-delay: 1s;">
                </div>
                <div class="data-stream ds-h" style="top: 75%; left: 0; animation-duration: 10s; animation-delay: 3s;">
                </div>
                <div class="data-stream ds-v" style="left: 10%; top: 0; animation-duration: 9s; animation-delay: 2s;">
                </div>
                <div class="data-stream ds-v" style="left: 90%; top: 0; animation-duration: 7s; animation-delay: 0s;">
                </div>
            </div>

            <div class="scanline-overlay"></div>

            <div class="exec-container">
                <!-- Text -->
                <div class="exec-text">
                    <span class="eyebrow" id="execEyebrow">Execution Layer</span>
                    <h2 class="exec-headline" id="execHeadline">Every<br>advantage.</h2>
                    <p class="exec-subhead" id="execSubhead">Jupiter for routing. Jito for protection. No emotion.</p>

                    <div class="partner-row" id="partnerRow">
                        <span>Jupiter</span> · <span>Jito</span> · <span>Raydium</span> · <span>Orca</span>
                    </div>

                    <div class="exec-micro" id="execMicro">Built for speed. Designed to compete.</div>
                </div>

                <!-- Visualization (Monitor) -->
                <div class="exec-monitor" id="execMonitor">
                    <!-- Cinematic Overlay -->
                    <div class="stream-vignette"></div>

                    <!-- HUD Layer -->
                    <div class="nexus-hud">
                        <div class="hud-top">
                            <span class="hud-label">LIQUIDITY STREAM <span style="opacity:0.3">//</span> V.9</span>
                            <div class="hud-status-pill">
                                <div class="status-dot-core" id="streamDot"></div>
                                <span class="status-text" id="streamStatus">SCANNING...</span>
                            </div>
                        </div>
                        <div class="hud-bottom">
                            <div class="data-readout" id="streamDataLeft">
                                <span class="readout-label">VOLATILITY</span>
                                <span>LOW</span>
                            </div>
                            <div class="data-readout" id="streamDataRight" style="align-items:flex-end">
                                <span class="readout-label">OPTIMAL ROUTE</span>
                                <span>CALCULATING</span>
                            </div>
                        </div>
                    </div>

                    <!-- The Fluid Core -->
                    <canvas class="stream-canvas" id="simCanvas"></canvas>
                </div>
            </div>
        </section>



        <!-- SECTION 6: YOUR UNIVERSE -->
        <section class="section-universe" id="sectionUniverse">
            <div class="universe-container">
                <span class="eyebrow" id="univEyebrow">Your Universe</span>
                <h2 class="univ-headline" id="univHeadline">One interface.<br>Thousands of assets.</h2>
                <p class="univ-subhead" id="univSubhead">SPL tokens, xStocks, preStocks — all tradable through Jarvis.
                </p>
                <div class="univ-micro" id="univMicro">Trade TSLA like SOL. Trade 24/7.</div>

                <!-- WebGL SCENE CONTAINER -->
                <div class="universe-visual-layer" id="universeVisual"
                    style="position: relative; width: 100%; height: 600px; display: flex; justify-content: center; align-items: center;">
                    <canvas id="universeCanvas"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; outline: none;"></canvas>
                    <div class="universe-ui-overlay" style="z-index: 2; pointer-events: none;"></div>
                </div>
            </div>
        </section>

        <!-- SECTION 7: PERSONAL AI (LIFE AGENT) -->
        <section class="section-personal" id="sectionPersonal">
            <!-- BACKGROUND EFFECTS -->
            <div class="bg-grid-faint" style="opacity: 0.3;"></div>
            <div class="grid-dataflow">
                <div class="data-stream ds-v" style="left: 15%; top: 0; animation-duration: 9s; animation-delay: 0.5s;">
                </div>
                <div class="data-stream ds-v" style="left: 85%; top: 0; animation-duration: 7s; animation-delay: 2.5s;">
                </div>
                <div class="data-stream ds-h" style="top: 25%; left: 0; animation-duration: 10s; animation-delay: 1s;">
                </div>
                <div class="data-stream ds-h" style="top: 75%; left: 0; animation-duration: 8s; animation-delay: 4s;">
                </div>
            </div>

            <div class="personal-container">
                <!-- Left: Copy & Commands -->
                <div class="personal-content">
                    <span class="eyebrow" id="persEyebrow">Personal AI</span>
                    <h2 class="personal-headline" id="persHeadline">Beyond trading.</h2>
                    <p class="personal-subhead" id="persSubhead">
                        Jarvis studies everything you do. It learns your behavior, priorities, and communication style
                        to anticipate your needs before you ask. From automating workflows to managing relationships, it
                        operates autonomously to become your ultimate life operating system.
                    </p>

                    <div class="command-list">
                        <!-- Cmd 1 -->
                        <div class="command-row" id="cmd1">
                            <div class="command-bubble">Draft that email.</div>
                        </div>
                        <!-- Cmd 2 -->
                        <div class="command-row" id="cmd2">
                            <div class="command-bubble">Summarize my day.</div>
                        </div>
                        <!-- Cmd 3 -->
                        <div class="command-row" id="cmd3">
                            <div class="command-bubble">Block distractions for two hours.</div>
                        </div>
                    </div>
                </div>

                <!-- Right: Visual (Living Workflow Stream) -->
                <div class="brain-card" id="brainCard">
                    <!-- Ambient Background -->
                    <div class="brain-ambient-bg"></div>

                    <!-- Neural Canvas (3D Particles) -->
                    <canvas id="brainCanvas" class="neural-canvas"></canvas>

                    <!-- Faint Pattern Overlay -->
                    <div class="brain-overlay"></div>

                    <!-- The Stream -->
                    <div class="life-stream-container">
                        <!-- Stream Items will be injected via JS for infinite loop, but we provide initial static ones for SEO/Layout -->
                        <div class="life-node">
                            <div class="node-icon">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"
                                        fill="currentColor" />
                                </svg>
                            </div>
                            <div class="node-data">
                                <span class="node-label">Drafting Email</span>
                                <span class="node-status">Processing...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Processing Scanner (Center Highlight) -->
                    <div class="process-scanner"></div>

                    <!-- Faint Overlay -->
                    <div class="brain-overlay"></div>
                </div>

            </div>
        </section>

        <!-- SECTION 8: THE WATCHER (PRIVACY) -->
        <section class="section-privacy" id="sectionPrivacy">
            <div class="privacy-container">
                <!-- Visual Left -->
                <div class="privacy-visual" id="privacyVisual">
                    <div class="shield-core" id="shieldCore"></div>
                    <div class="shield-ring ring-1"></div>
                    <div class="shield-ring ring-2"></div>
                    <div class="shield-ring ring-3" id="outerRing"></div>

                    <!-- Particles injected via JS -->
                    <div id="particleContainer"></div>
                </div>

                <!-- Text Right -->
                <div class="privacy-content">
                    <span class="eyebrow" id="privEyebrow">Local Learning</span>
                    <h2 class="privacy-headline" id="privHeadline">Jarvis learns about you.<br>He evolves with you, even
                        while you’re asleep.</h2>
                    <p class="privacy-subhead" id="privSubhead">Not surveillance. Companionship.</p>
                    <div class="privacy-micro" id="privMicro">
                        <svg class="lock-icon" viewBox="0 0 24 24">
                            <path
                                d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" />
                        </svg>
                        Your data stays on your Mac.
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 9: BUILDING IN PUBLIC -->
        <section class="section-public" id="sectionPublic">
            <div class="public-container">
                <span class="eyebrow" id="pubEyebrow">Building in Public</span>
                <h2 class="public-headline" id="pubHeadline">Full transparency.</h2>
                <p class="public-subhead" id="pubSubhead">Pre-alpha. We ship daily.</p>

                <div class="commit-timeline">
                    <div class="timeline-line" id="pubLine"></div>

                    <!-- Item 1 (Oldest) -->
                    <div class="commit-item">
                        <div class="commit-dot"></div>
                        <div class="commit-content">
                            <span class="commit-msg">feat: Initialize Solana engine</span>
                            <span class="commit-hash">8a2c1f</span>
                        </div>
                    </div>

                    <!-- Item 2 -->
                    <div class="commit-item">
                        <div class="commit-dot"></div>
                        <div class="commit-content">
                            <span class="commit-msg">fix: Jupiter routing optimization</span>
                            <span class="commit-hash">b49d2e</span>
                        </div>
                    </div>

                    <!-- Item 3 (Latest) -->
                    <div class="commit-item latest">
                        <div class="commit-dot"></div>
                        <div class="commit-content">
                            <span class="commit-msg">feat: Add "Privacy Watcher" module</span>
                            <span class="commit-hash">v0.3.1</span>
                        </div>
                    </div>
                </div>

                <div class="github-cta-row" id="pubCtaRow">
                    <a href="https://github.com/kr8tiv-io/Jarvis-by-Kr8tiv-Website" class="btn-primary" target="_blank">View
                        GitHub</a>
                    <a href="https://github.com/kr8tiv-io/Jarvis-by-Kr8tiv-Website/commits/main" class="btn-ghost btn-ghost-dark"
                        target="_blank">See Commits</a>
                </div>
            </div>
        </section>



        <!-- SECTION 12: OPEN SOURCE (NO BLACK BOXES) -->
        <section class="section-open" id="sectionOpen">
            <style>
                /* Scoped Styles for Interactive Repo (LIGHT THEME) */
                .file-tree-card {
                    background: rgba(255, 255, 255, 0.7);
                    backdrop-filter: blur(20px);
                    border: 1px solid rgba(0, 0, 0, 0.08);
                    /* Light mode border */
                    border-radius: 12px;
                    padding: 0;
                    overflow: hidden;
                    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.08);
                    font-family: 'JetBrains Mono', 'Fira Code', monospace;
                    position: relative;
                    min-height: 400px;
                    display: flex;
                    flex-direction: column;
                }

                .repo-header {
                    height: 40px;
                    background: rgba(245, 245, 245, 0.5);
                    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
                    display: flex;
                    align-items: center;
                    padding: 0 16px;
                }

                .window-controls {
                    display: flex;
                    gap: 8px;
                }

                .win-dot {
                    width: 10px;
                    height: 10px;
                    border-radius: 50%;
                    opacity: 0.7;
                }

                .win-red {
                    background: #FF5F56;
                }

                .win-yellow {
                    background: #FFBD2E;
                }

                .win-green {
                    background: #27C93F;
                }

                .repo-body {
                    display: flex;
                    flex: 1;
                    overflow: hidden;
                }

                .tree-view {
                    width: 220px;
                    border-right: 1px solid rgba(0, 0, 0, 0.06);
                    padding: 16px;
                    overflow-y: auto;
                    background: rgba(255, 255, 255, 0.3);
                }

                .code-preview {
                    flex: 1;
                    padding: 20px;
                    background: rgba(250, 250, 250, 0.5);
                    color: #333;
                    font-size: 13px;
                    line-height: 1.6;
                    opacity: 0;
                    transition: opacity 0.3s;
                }

                .code-preview.active {
                    opacity: 1;
                }

                .tree-item {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    padding: 6px 8px;
                    cursor: pointer;
                    border-radius: 4px;
                    transition: background 0.1s;
                    color: #555;
                    font-size: 13px;
                }

                .tree-item:hover {
                    background: rgba(0, 0, 0, 0.05);
                    color: #000;
                }

                .folder-icon {
                    width: 16px;
                    height: 16px;
                    fill: #dcb67a;
                }

                .file-icon {
                    width: 16px;
                    height: 16px;
                    fill: #6a8759;
                }

                .tree-children {
                    padding-left: 20px;
                    overflow: hidden;
                    height: auto;
                    transition: height 0.3s;
                }

                .tree-hidden {
                    height: 0;
                }

                .file-row.file-selected {
                    background: rgba(0, 100, 200, 0.1);
                    color: #0066cc;
                }

                .file-row.file-selected .file-name {
                    color: #0066cc;
                    font-weight: 600;
                }

                /* MIT Badge Shine */
                .mit-badge {
                    position: relative;
                    overflow: hidden;
                    background: linear-gradient(135deg, #eee, #ddd);
                    color: #111;
                    border: none;
                }

                .mit-badge::after {
                    content: '';
                    position: absolute;
                    top: -50%;
                    left: -50%;
                    width: 200%;
                    height: 200%;
                    background: linear-gradient(60deg, transparent, rgba(255, 255, 255, 0.8), transparent);
                    transform: rotate(45deg) translate(-100%, -100%);
                    animation: badgeShine 4s infinite;
                }

                @keyframes badgeShine {
                    0% {
                        transform: translate(-100%, -100%) rotate(45deg);
                    }

                    20% {
                        transform: translate(100%, 100%) rotate(45deg);
                    }

                    100% {
                        transform: translate(100%, 100%) rotate(45deg);
                    }
                }

                /* Syntax Highlighting Sim (Light Mode) */
                .kw {
                    color: #0033b3;
                    font-weight: bold;
                }

                .str {
                    color: #067d17;
                }

                .def {
                    color: #00627a;
                }

                .com {
                    color: #8c8c8c;
                    font-style: italic;
                }

                /* Mobile Responsive Styles */
                @media (max-width: 768px) {
                    .repo-body {
                        flex-direction: column;
                    }

                    .tree-view {
                        width: 100%;
                        border-right: none;
                        border-bottom: 1px solid rgba(0, 0, 0, 0.06);
                        padding: 12px;
                        max-height: 200px;
                    }

                    .tree-item {
                        font-size: 14px;
                        padding: 8px 10px;
                        color: #333;
                    }

                    .file-name {
                        color: #333;
                        font-weight: 500;
                    }

                    .code-preview {
                        min-height: 180px;
                        padding: 16px;
                        font-size: 12px;
                        opacity: 1;
                    }

                    .file-tree-card {
                        min-height: 350px;
                    }
                }
            </style>

            <div class="open-container">
                <!-- Left: Content -->
                <div class="open-content">
                    <span class="eyebrow" id="openEyebrow">Open Source</span>
                    <h2 class="open-headline" id="openHeadline">No black boxes.</h2>
                    <p class="public-subhead" id="openSubhead">Forkable. Auditable. Community built.</p>

                    <a href="https://github.com/kr8tiv-io/Jarvis-by-Kr8tiv-Website" class="btn-primary" id="openCta"
                        style="margin-top: 20px;">Star on GitHub</a>

                    <div class="mit-badge" id="mitBadge">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L1 21h22L12 2zm0 3.8L19.4 19H4.6L12 5.8z" />
                        </svg> MIT License
                    </div>
                </div>

                <!-- Right: Interactive Repo -->
                <div class="file-tree-card" id="fileTreeObj">
                    <div class="repo-header">
                        <div class="window-controls">
                            <div class="win-dot win-red"></div>
                            <div class="win-dot win-yellow"></div>
                            <div class="win-dot win-green"></div>
                        </div>
                        <div style="margin-left:auto; font-size:12px; color:#666;">jarvis-core</div>
                    </div>
                    <div class="repo-body">
                        <div class="tree-view" id="repoTree">
                            <!-- Root -->
                            <div class="tree-item folder-row" onclick="toggleFolder(this)">
                                <svg class="folder-icon" viewBox="0 0 24 24">
                                    <path
                                        d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" />
                                </svg>
                                <span>jarvis-core</span>
                            </div>
                            <div class="tree-children">
                                <!-- Agents -->
                                <div class="tree-item folder-row" onclick="toggleFolder(this)">
                                    <svg class="folder-icon" viewBox="0 0 24 24">
                                        <path
                                            d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" />
                                    </svg>
                                    <span>agents</span>
                                </div>
                                <div class="tree-children">
                                    <div class="tree-item file-row" onmouseover="showCode('trading', this)" onclick="showCode('trading', this)">
                                        <span class="file-name">trading_engine.py</span>
                                    </div>
                                    <div class="tree-item file-row" onmouseover="showCode('life', this)" onclick="showCode('life', this)">
                                        <span class="file-name">life_os.py</span>
                                    </div>
                                </div>
                                <!-- Strategies -->
                                <div class="tree-item folder-row" onclick="toggleFolder(this)">
                                    <svg class="folder-icon" viewBox="0 0 24 24">
                                        <path
                                            d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" />
                                    </svg>
                                    <span>strategies</span>
                                </div>
                                <div class="tree-children">
                                    <div class="tree-item file-row" onmouseover="showCode('momentum', this)" onclick="showCode('momentum', this)">
                                        <span class="file-name">momentum_alpha.py</span>
                                    </div>
                                </div>
                                <div class="tree-item file-row" onmouseover="showCode('readme', this)" onclick="showCode('readme', this)">
                                    <span class="file-name">README.md</span>
                                </div>
                            </div>
                        </div>
                        <div class="code-preview" id="codePane">
                            <span class="com"># Select a file to view code</span>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                function toggleFolder(el) {
                    const children = el.nextElementSibling;
                    if (children && children.classList.contains('tree-children')) {
                        children.classList.toggle('tree-hidden');
                        // Simple height toggle logic via class or max-height
                        if (children.style.display === 'none') children.style.display = 'block';
                        else children.style.display = 'none';
                    }
                }

                const snippets = {
                    trading: `<span class="kw">class</span> <span class="def">TradingEngine</span>(BaseAgent):
    <span class="kw">async def</span> <span class="def">execute_swap</span>(self, route):
        <span class="com"># Zero-latency execution</span>
        tx = <span class="kw">await</span> self.solana_client.send(
            route.instruction, 
            priority_fee=<span class="str">"turbo"</span>
        )
        <span class="kw">return</span> tx.signature`,
                    life: `<span class="kw">class</span> <span class="def">LifeOS</span>:
    <span class="kw">def</span> <span class="def">sync_context</span>(self):
        <span class="com"># Analyze user intent</span>
        context = self.vector_db.query(
            <span class="str">"current_focus"</span>
        )
        <span class="kw">if</span> context.flow_state:
            self.notifications.mute_all()`,
                    momentum: `<span class="kw">def</span> <span class="def">scan_momentum</span>(pool):
    alpha = calculate_volatility(pool)
    <span class="kw">if</span> alpha > THRESHOLD:
        <span class="kw">return</span> Signal.BUY
    <span class="kw">return</span> Signal.HOLD`,
                    readme: `<span class="kw"># Jarvis LifeOS</span>
The operating system for your life.
<span class="com"># Install</span>
npm install jarvis-core
<span class="com"># Run</span>
jarvis start --daemon`
                };

                function showCode(key, el) {
                    const pane = document.getElementById('codePane');
                    if (snippets[key]) {
                        pane.innerHTML = snippets[key];
                        pane.classList.add('active');
                        // Highlight selected file
                        document.querySelectorAll('.file-row').forEach(row => row.classList.remove('file-selected'));
                        if (el) el.classList.add('file-selected');
                    }
                }

                // Init default - show readme immediately
                setTimeout(() => {
                    showCode('readme');
                    document.querySelector('.file-row[onclick*="readme"]')?.classList.add('file-selected');
                }, 500);
            </script>
        </section>


        <!-- SECTION 13: TOKEN ($KR8TIV) -->
        <section class="section-token" id="sectionToken">
            <div class="token-container">
                <div class="token-grid">
                    <!-- Left: Text -->
                    <div class="token-content">
                        <span class="token-eyebrow" id="tokEyebrow">Community Token</span>
                        <h2 class="token-headline" id="tokHeadline">Fair launch.<br>Community aligned.</h2>
                        <p class="token-subhead" id="tokSubhead" style="font-family: 'Clash Display', sans-serif;">
                            $KR8TIV on Solana — launched on Bags.fm.</p>
                        <div class="token-micro" id="tokMicro">No VCs. No presale. Built by believers.</div>

                        <div class="btn-group" id="tokBtnGroup"
                            style="justify-content: flex-start; margin-top: 20px; margin-bottom: 20px;">
                            <a href="https://dexscreener.com/solana/gnfeekylr79s7jkbippznlkivm1ufqmpnbqs96mxmgqq" class="btn-ghost" target="_blank"
                                style="font-family: 'Clash Display', sans-serif; color: #111; border-color: rgba(0,0,0,0.2); font-weight: 600;">View
                                Chart</a>
                        </div>

                        <div class="token-powered" id="tokLogos" style="margin-top: 10px;">
                            <span
                                style="font-family: 'Clash Display', sans-serif; font-size: 10px; font-weight: 700; color: #999; text-transform: uppercase; letter-spacing: 1px; display: block; margin-bottom: 20px;">Powered
                                By</span>
                            <div style="display: flex; gap: 40px; align-items: flex-start;">
                                <!-- Solana -->
                                <a href="https://solana.com" target="_blank"
                                    style="text-decoration: none; display: flex; flex-direction: column; align-items: center; gap: 10px; transition: transform 0.2s;">
                                    <img src="10.png" alt="Solana"
                                        style="width: 44px; height: 44px; border-radius: 50%; box-shadow: 0 8px 20px rgba(0,0,0,0.1); object-fit: cover;">
                                    <span
                                        style="font-size: 11px; font-weight: 700; color: #333; letter-spacing: 0.5px;">SOLANA</span>
                                </a>
                                <!-- Bags -->
                                <a href="https://bags.fm/U1zc8QpnrQ3HBJUBrWFYWbQTLzNsCpPgZNegWXdBAGS" target="_blank"
                                    style="text-decoration: none; display: flex; flex-direction: column; align-items: center; gap: 10px; transition: transform 0.2s;">
                                    <img src="bags-icon.png" alt="Bags"
                                        style="width: 44px; height: 44px; border-radius: 50%; box-shadow: 0 8px 20px rgba(0,0,0,0.1); object-fit: cover;">
                                    <span
                                        style="font-size: 11px; font-weight: 700; color: #333; letter-spacing: 0.5px;">BAGS</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Visual -->
                    <div class="token-visual" id="tokenVisual"
                        style="position: relative; overflow: visible; transform: scale(0.98);">
                        <style>
                            /* Engine Core Styles - REFINED */
                            #tokenEngineCanvas {
                                position: absolute;
                                top: 50%;
                                left: 50%;
                                transform: translate(-50%, -50%);
                                width: 120%;
                                height: 120%;
                                z-index: 1;
                                pointer-events: none;
                            }

                            .engine-node {
                                position: absolute;
                                z-index: 10;
                                display: flex;
                                align-items: center;
                                gap: 12px;
                                cursor: pointer;
                                transition: transform 0.1s ease-out;
                                /* Faster for magnet effect */
                                will-change: transform;
                            }

                            /* Dot Polish */
                            .node-dot {
                                width: 9px;
                                height: 9px;
                                background: #39FF14;
                                border-radius: 50%;
                                box-shadow: 0 0 12px rgba(57, 255, 20, 0.6);
                                position: relative;
                                flex-shrink: 0;
                            }

                            .node-dot::after {
                                content: '';
                                position: absolute;
                                top: -5px;
                                left: -5px;
                                width: 19px;
                                height: 19px;
                                border: 1px solid rgba(57, 255, 20, 0.4);
                                border-radius: 50%;
                                animation: pulseRing 3s infinite;
                            }

                            @keyframes pulseRing {
                                0% {
                                    transform: scale(0.5);
                                    opacity: 1;
                                }

                                100% {
                                    transform: scale(1.8);
                                    opacity: 0;
                                }
                            }

                            /* Card Polish */
                            .node-card {
                                background: rgba(255, 255, 255, 0.9);
                                backdrop-filter: blur(16px);
                                padding: 8px 14px;
                                border-radius: 6px;
                                border: 1px solid rgba(0, 0, 0, 0.06);
                                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
                                display: flex;
                                flex-direction: column;
                                opacity: 0.9;
                                transition: all 0.2s;
                                min-width: 90px;
                            }

                            .engine-node:hover .node-card {
                                opacity: 1;
                                transform: scale(1.02);
                                box-shadow: 0 8px 30px rgba(57, 255, 20, 0.15);
                                border-color: rgba(57, 255, 20, 0.3);
                            }

                            /* Unified Typography */
                            .nc-title {
                                font-family: 'Clash Display', sans-serif;
                                font-size: 10px;
                                font-weight: 700;
                                text-transform: uppercase;
                                color: #888;
                                letter-spacing: 0.8px;
                                margin-bottom: 2px;
                            }

                            .nc-val {
                                font-family: 'Clash Display', sans-serif;
                                font-size: 13px;
                                font-weight: 600;
                                color: #111;
                                letter-spacing: -0.2px;
                                white-space: nowrap;
                            }

                            /* Positioning */
                            .node-stake {
                                top: 12%;
                                left: 50%;
                                transform: translateX(-50%);
                                flex-direction: column;
                                gap: 10px;
                            }

                            .node-apis {
                                top: 38%;
                                right: -2%;
                                flex-direction: row-reverse;
                            }

                            .node-fund {
                                bottom: 18%;
                                right: 8%;
                                flex-direction: row-reverse;
                            }

                            .node-rev {
                                bottom: 18%;
                                left: 8%;
                            }

                            .node-yield {
                                top: 38%;
                                left: -2%;
                            }

                            /* Core Label */
                            .node-core {
                                top: 50%;
                                left: 50%;
                                transform: translate(-50%, -50%);
                                /* Start center */
                                pointer-events: none;
                                z-index: 5;
                                text-align: center;
                                justify-content: center;
                            }

                            .core-text {
                                font-family: 'Clash Display', 'Inter', sans-serif;
                                font-size: 30px;
                                font-weight: 600;
                                text-transform: none;
                                letter-spacing: 0px;
                                color: #000;
                                line-height: 1.1;
                                text-shadow: 0 0 30px rgba(255, 255, 255, 1);
                            }
                        </style>

                        <!-- The Canvas Engine -->
                        <canvas id="tokenEngineCanvas"></canvas>

                        <!-- 0. Core Label (New) -->
                        <div class="engine-node node-core">
                            <div class="core-text">Jarvis<br>Decentralized<br>Fund</div>
                        </div>

                        <!-- 1. Stake (Top) -->
                        <div class="engine-node node-stake" data-id="stake">
                            <div class="node-card">
                                <span class="nc-title">Input</span>
                                <span class="nc-val">Stake Token</span>
                            </div>
                            <div class="node-dot"></div>
                        </div>

                        <!-- 2. APIs (Right) -->
                        <div class="engine-node node-apis" data-id="apis">
                            <div class="node-dot"></div>
                            <div class="node-card">
                                <span class="nc-title">Utility</span>
                                <span class="nc-val">API Revenue</span>
                            </div>
                        </div>

                        <!-- 3. Fund (Bottom Right) -->
                        <div class="engine-node node-fund" data-id="fund">
                            <div class="node-dot"></div>
                            <div class="node-card">
                                <span class="nc-title">Growth</span>
                                <span class="nc-val">Treasury</span>
                            </div>
                        </div>

                        <!-- 4. Revenue (Bottom Left) -->
                        <div class="engine-node node-rev" data-id="rev">
                            <div class="node-dot"></div>
                            <div class="node-card">
                                <span class="nc-title">Value</span>
                                <span class="nc-val">Protocol Rev</span>
                            </div>
                        </div>

                        <!-- 5. Yield (Left) -->
                        <div class="engine-node node-yield" data-id="yield">
                            <div class="node-dot"></div>
                            <div class="node-card">
                                <span class="nc-title">Reward</span>
                                <span class="nc-val">Staker Yield</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>




        <!-- SECTION 17: FINAL CTA + FOOTER -->
        <section class="section-final-cta" id="sectionFinal">
            <!-- VIDEO BACKGROUND -->
            <div class="final-video-bg">
                <video autoplay loop muted playsinline preload="metadata" class="lazy-video">
                    <source src="jarvis2_mobile.mp4" type="video/mp4" media="(max-width: 768px)">
                    <source src="jarvis2_optimized.webm" type="video/webm">
                    <source src="jarvis2_optimized.mp4" type="video/mp4">
                </video>
                <div class="final-video-overlay"></div>
            </div>

            <!-- GRID BACKGROUND -->
            <div class="bg-grid-faint"></div>

            <!-- DATAFLOW LIGHTS -->
            <div class="grid-dataflow">
                <div class="data-stream ds-h" style="top: 80px; left: 0; animation-duration: 8s; animation-delay: 0s;">
                </div>
                <div class="data-stream ds-h"
                    style="top: 300px; left: 0; animation-duration: 10s; animation-delay: 2.5s;"></div>
                <div class="data-stream ds-v" style="left: 15%; top: 0; animation-duration: 7s; animation-delay: 1s;">
                </div>
                <div class="data-stream ds-v" style="left: 85%; top: 0; animation-duration: 9s; animation-delay: 3s;">
                </div>
            </div>

            <div class="scanline-overlay"></div>

            <div class="cta-container">
                <h2 class="final-headline" id="finalHeadline">System Ready.</h2>
                <p class="final-subhead" id="finalSubhead">The operating system for your life is waiting.</p>

                <div class="path-grid">
                    <!-- Card 1: Try the Sniper -->
                    <div class="path-card" id="cardTry">
                        <div class="path-icon">✨</div>
                        <h3 class="path-title">Try the Sniper</h3>
                        <p class="path-desc">Experience the pre-alpha trading terminal. Connect a burner wallet and test autonomous strategies live on Solana.</p>
                        <a href="https://kr8tiv.web.app/"
                            class="path-btn path-btn-primary" target="_blank">Launch Pre-Alpha</a>
                    </div>

                    <!-- Card 2: Token -->
                    <div class="path-card" id="cardBuy" style="border-color: rgba(57, 255, 20, 0.3);">
                        <div class="path-icon" style="color: #39FF14;">$</div>
                        <h3 class="path-title">Acquire Signal</h3>
                        <p class="path-desc">$KR8TIV is the currency of attention. Fair launch on Bags.</p>
                        <a href="https://bags.fm/U1zc8QpnrQ3HBJUBrWFYWbQTLzNsCpPgZNegWXdBAGS" class="path-btn path-btn-accent" target="_blank">Buy on Bags.fm</a>
                    </div>

                    <!-- Card 3: Upgrade -->
                    <div class="path-card" id="cardBuild">
                        <div class="path-icon">🛠️</div>
                        <h3 class="path-title">Upgrade the Core</h3>
                        <p class="path-desc">Fork the repo. Submit PRs. Shape the future of local AI.</p>
                        <a href="https://github.com/kr8tiv-io/Jarvis-by-Kr8tiv-Website" class="path-btn path-btn-ghost">View
                            GitHub</a>
                    </div>
                </div>

                <!-- Footer -->
                <footer class="site-footer" id="mainFooter">
                    <div class="footer-logo">JARVIS</div>
                    <div class="footer-links">
                        <a href="manifesto.html" class="footer-link">Manifesto</a>
                        <a href="docs.html" class="footer-link">Documentation</a>
                        <a href="#sectionToken" class="footer-link">Tokenomics</a>
                        <a href="https://kr8tiv.web.app/" class="footer-link" target="_blank">Trading App</a>
                    </div>
                    <div class="footer-social">
                        <a href="https://x.com/kr8tivai" class="footer-social-link" target="_blank" title="X/Twitter">𝕏</a>
                        <a href="https://t.me/kr8tivaisystems" class="footer-social-link" target="_blank" title="Telegram">✈</a>
                        <a href="https://github.com/kr8tiv-io" class="footer-social-link" target="_blank" title="GitHub">⌨</a>
                        <a href="https://dexscreener.com/solana/gnfeekylr79s7jkbippznlkivm1ufqmpnbqs96mxmgqq" class="footer-social-link" target="_blank" title="DexScreener">📊</a>
                        <a href="https://bags.fm/b/kr8tiv" class="footer-social-link" target="_blank" title="Bags.fm">💰</a>
                        <a href="https://www.linkedin.com/in/matthaynes88" class="footer-social-link" target="_blank" title="LinkedIn">in</a>
                    </div>
                    <div class="footer-copy">
                        A product of <a href="https://kr8tiv.ai" target="_blank" style="color: #39FF14; text-decoration: none;">kr8tiv AI</a> · Built on Solana · Launched on Bags.fm · Open Source
                        <br><a href="https://supermemory.ai" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;gap:5px;margin-top:8px;color:rgba(255,255,255,0.3);text-decoration:none;font-size:11px;letter-spacing:0.04em;transition:color 0.2s;" onmouseover="this.style.color='rgba(255,255,255,0.6)'" onmouseout="this.style.color='rgba(255,255,255,0.3)'"><img src="https://avatars.githubusercontent.com/u/171979587?s=16&amp;v=4" alt="Supermemory" style="width:14px;height:14px;border-radius:3px;opacity:0.6;"> Proud participant in the Supermemory AI Builders Program</a>
                    </div>
                </footer>
            </div>
        </section>

    </div>
    <!-- End Main Wrapper -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);
            ScrollTrigger.config({ ignoreMobileResize: true });
            const isMobile = window.matchMedia("(max-width: 768px)").matches;
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

            // Helper: Only animate if target elements exist
            const safeGsap = (method, selector, props, position) => {
                const el = document.querySelector(selector);
                if (!el && !document.querySelectorAll(selector).length) return null;
                if (position !== undefined) {
                    return gsap[method](selector, props, position);
                }
                return gsap[method](selector, props);
            };
            const hasEl = (sel) => document.querySelector(sel) !== null || document.querySelectorAll(sel).length > 0;

            // --- GSAP ANIMATION FOR SECTION SPLIT ---
            const splitTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#sectionSplit",
                    start: "top 85%", // Start slightly earlier
                    toggleActions: "play none none reverse"
                }
            });

            // 1. Eyebrow & Headline
            splitTl.from("#splitEyebrow", { y: 30, opacity: 0, duration: 0.8, ease: "power3.out" })
                .from("#splitHeadline", { y: 30, opacity: 0, duration: 0.8, ease: "power3.out" }, "-=0.6");

            // 2. Subhead
            splitTl.from("#splitSubhead", { opacity: 0, duration: 0.8 }, "-=0.4");

            // 3. Cards Stagger
            // Left Card (Bots) - Glitch effect simulation via quick jitter or flash
            splitTl.from("#cardLeft", { x: -30, opacity: 0, filter: "blur(10px)", duration: 1, ease: "power3.out" }, "-=0.2");

            // Right Card (Chaos)
            splitTl.from("#cardRight", { x: 30, opacity: 0, filter: "blur(10px)", duration: 1, ease: "power3.out" }, "<"); // Run concurrently

            // 4. Center Unifier
            splitTl.from("#unifierText", { opacity: 0, scale: 0.9, duration: 0.6 }, "-=0.2")
                .from("#accentLine", { scaleY: 0, transformOrigin: "center", duration: 0.8, ease: "power2.inOut" }, "<");

            // Ambient Motion in Cards (Grid Drift & Glow) - Optional subtle movement
            if (!prefersReducedMotion && !isMobile) {
                gsap.to(".glass-card", {
                    y: "5px",
                    duration: 4,
                    repeat: -1,
                    yoyo: true,
                    ease: "sine.inOut",
                    stagger: 0.5
                });
            }

            // --- MANIFESTO MARQUEE (Pinned Scroll Gate) ---
            const manifestoReducedMotion = prefersReducedMotion;

            if (!manifestoReducedMotion && !isMobile) {
                const manifestoTrack = document.querySelector('.manifesto-track');
                if (manifestoTrack) {
                    const getMoveDistance = () => Math.max(0, manifestoTrack.scrollWidth - window.innerWidth);

                    gsap.to(manifestoTrack, {
                        x: () => -getMoveDistance(),
                        ease: "none",
                        scrollTrigger: {
                            trigger: ".manifesto-section",
                            pin: true,
                            pinSpacing: true,
                            scrub: 1.2,
                            start: "top top",
                            end: () => "+=" + (isMobile ? 2200 : 2000),
                            invalidateOnRefresh: true,
                            anticipatePin: 1,
                            onRefresh: function(self) {
                                // Ensure pin-spacer has opaque bg to prevent hero video bleed
                                if (self.spacer) {
                                    self.spacer.style.backgroundColor = '#FFFFFF';
                                    self.spacer.style.zIndex = '60';
                                }
                            }
                        }
                    });

                    window.addEventListener('load', () => ScrollTrigger.refresh());
                }
            }

            // --- SECTION 3: SOLANA NATIVE (SCRUBBED TIMELINE) ---
            // Reduced Motion Check

            if (!prefersReducedMotion) {
                // Set initial states for scrub
                gsap.set("#solEyebrow, #solHeadline, #solSubhead, #statSpeed, #statCost, #statUptime, #techStack, .sol-badge, #solCta", { opacity: 0 });
                if (hasEl("#solanaWatermark")) gsap.set("#solanaWatermark", { scale: 0.9, opacity: 0.5, transformOrigin: "center center" });
                gsap.set("#statSpeed", { x: -60 });
                gsap.set("#statUptime", { x: 60 });
                gsap.set("#statCost, #solEyebrow, #solHeadline, #solSubhead", { y: 20 });
                gsap.set("#techStack", { y: 40 });
                gsap.set(".sol-badge, #solCta", { y: 18 });

                // SWITCH to toggleActions for reliable "Pop" without scrub dependency
                const solScrubTl = gsap.timeline({
                    scrollTrigger: {
                        trigger: "#sectionSolana",
                        start: "top 75%",
                        toggleActions: "play none none reverse"
                    }
                });

                // Phase 1: Headline & Subhead Reveal
                solScrubTl.to("#solEyebrow", { y: 0, opacity: 1, duration: 0.6, ease: "power2.out" })
                    .to("#solHeadline", { y: 0, opacity: 1, duration: 0.8, ease: "power2.out" }, "-=0.4")
                    .to("#solSubhead", { y: 0, opacity: 1, duration: 0.8, ease: "power2.out" }, "-=0.6");

                // Phase 2: Stats Pull In (Speed from left, Cost from center, Uptime from right)
                solScrubTl.to("#statSpeed", { x: 0, opacity: 1, duration: 0.8, ease: "back.out(1.2)" }, "-=0.4")
                    .to("#statCost", { y: 0, opacity: 1, duration: 0.8, ease: "back.out(1.2)" }, "-=0.6")
                    .to("#statUptime", { x: 0, opacity: 1, duration: 0.8, ease: "back.out(1.2)" }, "-=0.6");

                // Phase 3: Watermark Scale (Starts at 50% of timeline)
                solScrubTl.addLabel("watermarkStart", "-=0.5");
                if (hasEl("#solanaWatermark")) solScrubTl.to("#solanaWatermark", { scale: 1.45, opacity: 1.0, duration: 1.2, ease: "power1.inOut" }, "watermarkStart");

                // Phase 4: Tech Stack & Partner Row
                solScrubTl.to("#techStack", { y: 0, opacity: 1, duration: 0.6 }, "-=0.4")
                    // FIX: Changed ".sol-badge" to ".partner-chip"
                    .to(".partner-chip", { y: 0, opacity: 1, stagger: 0.1, duration: 0.6 }, "-=0.4");

                // Phase 5: CTA
                solScrubTl.to("#solCta", { y: 0, opacity: 1, duration: 0.6 }, "-=0.4");
            }

            // Ambient Stat Glyph Animations (run continuously, outside scrub block)
            // These run on the glyphs themselves, not the parent containers
            if (!prefersReducedMotion && !isMobile) {
                // Speed Glyph: Horizontal drift + opacity breathe
                if (hasEl("#statSpeed .stat-glyph")) gsap.to("#statSpeed .stat-glyph", {
                    x: 2,
                    opacity: 0.85,
                    duration: 3.5,
                    repeat: -1,
                    yoyo: true,
                    ease: "sine.inOut",
                    delay: 1.5 // Delay to let scroll animation complete
                });

                // Cost Glyph: Scale micro-breathe
                if (hasEl("#statCost .stat-glyph")) gsap.to("#statCost .stat-glyph", {
                    scale: 1.03,
                    duration: 4,
                    repeat: -1,
                    yoyo: true,
                    ease: "sine.inOut",
                    delay: 1.8
                });

                // Uptime Glyph: Vertical drift + micro rotation
                if (hasEl("#statUptime .stat-glyph")) gsap.to("#statUptime .stat-glyph", {
                    y: 2,
                    rotation: 1,
                    duration: 3.8,
                    repeat: -1,
                    yoyo: true,
                    ease: "sine.inOut",
                    delay: 2.0
                });
            }

            // --- SECTION 4: TRADING CORE ---
            const coreTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#tradingCore",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            // 1. Text Stagger
            coreTl.from("#coreEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                .from("#coreHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.3")
                .from("#coreSubhead", { opacity: 0, duration: 0.6 }, "-=0.3")
                .from("#honestyBadge", { opacity: 0, scale: 0.9, duration: 0.5 }, "-=0.2")
                .from("#coreCta", { opacity: 0, y: 10, duration: 0.5 }, "-=0.3");

            // 2. Card Evaluation Sequence
            // Rejected card fades and pushes back
            coreTl.from(".strat-rejected", {
                x: 100,
                opacity: 0,
                duration: 0.8,
                ease: "power2.out"
            }, "-=1");

            coreTl.to(".strat-rejected", {
                opacity: 0.5,
                scale: 0.9,
                filter: "grayscale(100%)",
                duration: 0.5
            }, ">-0.2"); // Happens after entrance

            // Survivor cards enter and bloom
            coreTl.from(".strat-survivor", {
                x: 100,
                opacity: 0,
                duration: 0.8,
                ease: "power2.out"
            }, "-=0.6");

            coreTl.from(".strat-survivor-prime", {
                x: 100,
                opacity: 0,
                duration: 0.8,
                ease: "power2.out"
            }, "-=0.6");

            // Ambient Float for cards
            if (!prefersReducedMotion && !isMobile) {
                gsap.to(".strategy-card", {
                    y: "10px",
                    duration: 3,
                    repeat: -1,
                    yoyo: true,
                    ease: "sine.inOut",
                    stagger: 0.3
                });
            }

            // --- SECTION 5: EXECUTION LAYER ---
            const execTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#executionLayer",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            // 1. Text Entrance
            execTl.from("#execEyebrow", { x: -30, opacity: 0, duration: 0.5 })
                .from("#execHeadline", { x: -30, opacity: 0, duration: 0.6 }, "-=0.3")
                .from("#execSubhead", { opacity: 0, duration: 0.6 }, "-=0.3")
                .from("#partnerRow", { opacity: 0, duration: 0.5 }, "-=0.2")
                .from("#execMicro", { scaleX: 0, transformOrigin: "left", opacity: 0, duration: 0.5 }, "-=0.2");

            // 2. Monitor Entrance
            execTl.from("#execMonitor", { y: 30, opacity: 0, duration: 0.8, ease: "power2.out" }, "-=0.8");
            // NOTE: The previous '.route-row' logic is removed as we updated the UI, but if there were elements
            // using this class in the HUD they would animate. Since we replaced the HTML, we can remove this line safely or keep it harmlessly.

            // 3. Execution Simulation Loop
            // REPLACED BY NEURAL NEXUS (initNeuralNexus handles the loop)


            // --- SECTION 6: UNIVERSE ---
            const univTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#sectionUniverse",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            // 1. Text Stagger
            univTl.from("#univEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                .from("#univHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.4")
                .from("#univSubhead", { opacity: 0, duration: 0.6 }, "-=0.3")
                .from("#univMicro", { opacity: 0, scale: 0.9, duration: 0.5 }, "-=0.2");

            // 2. Orbit Entrance
            // Spin it out from zero scale
            if (hasEl(".orbit-scene")) univTl.from(".orbit-scene", {
                scale: 0,
                opacity: 0,
                rotationZ: 180,
                duration: 1.2,
                ease: "back.out(1.2)"
            }, "-=0.4");

            // Scroll-Linked Rotation Speedup
            // We want the orbit to spin faster when we scroll through this section
            if (hasEl(".orbit-rotator") && !prefersReducedMotion && !isMobile) gsap.to(".orbit-rotator", {
                scrollTrigger: {
                    trigger: "#sectionUniverse",
                    start: "top bottom",
                    end: "bottom top",
                    scrub: 1
                },
                rotation: "+=120", // Add extra rotation on top of the CSS animation
                ease: "none"
            });

            // --- SECTION 7: PERSONAL AI ---
            const persTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#sectionPersonal",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            persTl.from("#persEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                .from("#persHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.3");

            // Stagger Commands (Left Side)
            persTl.from(".command-row", {
                x: -30,
                opacity: 0,
                duration: 0.8,
                stagger: 0.3,
                ease: "power2.out"
            }, "-=0.2");

            // Brain Card Entrance (Right Side)
            persTl.from("#brainCard", {
                y: 50,
                opacity: 0,
                scale: 0.95,
                duration: 1,
                ease: "power2.out"
            }, "-=1.0");

            // --- LIVING WORKFLOW STREAM LOGIC ---
            if (!prefersReducedMotion) {
                const streamContainer = document.querySelector('.life-stream-container');
                const processScanner = document.querySelector('.process-scanner');

                // Reveal Scanner
                persTl.to(processScanner, { opacity: 1, duration: 1 }, "-=0.5");

                // Stream Data
                const lifeTasks = [
                    { label: "Drafting Email", status: "Composer Active", icon: "M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" },
                    { label: "Sync Calendar", status: "Optimizing Schedule", icon: "M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z" },
                    { label: "Deep Work Block", status: "Notifications Muted", icon: "M6 14l3 3v5h6v-5l3-3V9H6v5zm2-3h8v2H8v-2z" },
                    { label: "Tax Receipt", status: "Categorizing", icon: "M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" },
                    { label: "Evening Summary", status: "Compiling", icon: "M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z" }
                ];

                let taskIndex = 0;

                function spawnLifeNode() {
                    if (!document.body.contains(streamContainer)) return; // Safety check

                    const data = lifeTasks[taskIndex % lifeTasks.length];
                    taskIndex++;

                    // Create Node
                    const node = document.createElement('div');
                    node.classList.add('life-node');
                    node.innerHTML = `
                        <div class="node-icon">
                            <svg viewBox="0 0 24 24"><path d="${data.icon}" fill="currentColor"/></svg>
                        </div>
                        <div class="node-data">
                            <span class="node-label">${data.label}</span>
                            <span class="node-status">${data.status}</span>
                        </div>
                    `;
                    streamContainer.appendChild(node);

                    // Random horizontal start (-20px to 20px)
                    const startX = (Math.random() - 0.5) * 40;
                    gsap.set(node, { x: startX });

                    // Animation (Vertical Flow)
                    gsap.fromTo(node,
                        { top: "110%", opacity: 0.0, scale: 0.9 },
                        {
                            top: "-30%",
                            opacity: 0.6, // Base opacity (active state handles full opacity)
                            duration: 10, // Slower, more chill
                            ease: "none",
                            onUpdate: function () {
                                // Progress passed as 'this.ratio' (0 to 1)
                                const progress = this.ratio;

                                // Fade in/out at edges
                                if (progress < 0.1) node.style.opacity = progress * 6;
                                else if (progress > 0.9) node.style.opacity = (1 - progress) * 6;

                                // Activate when near center (approx 0.4 to 0.6 progress)
                                if (progress > 0.40 && progress < 0.60) {
                                    if (!node.classList.contains('active')) {
                                        node.classList.add('active');
                                        // Slight pop when active
                                        gsap.to(node, { scale: 1.05, duration: 0.5 });
                                    }
                                } else {
                                    if (node.classList.contains('active')) {
                                        node.classList.remove('active');
                                        gsap.to(node, { scale: 0.96, duration: 0.5 });
                                    }
                                }
                            },
                            onComplete: () => {
                                node.remove();
                            }
                        }
                    );

                    // Horizontal Drift (Sine Wave)
                    gsap.to(node, {
                        x: startX + (Math.random() - 0.5) * 60, // Drift across
                        duration: 10,
                        ease: "sine.inOut"
                    });

                    // Recursion
                    setTimeout(spawnLifeNode, 2800);
                }

                // Start the stream after a slight delay
                setTimeout(spawnLifeNode, 1000);
            } // End of if (!prefersReducedMotion)

            // --- PRIVACY SECTION PARALLAX VIDEO ---
            const privacySection = document.querySelector('.section-privacy');
            const privacyVideo = document.querySelector('.parallax-video-privacy');

            if (privacySection && privacyVideo) {
                // Disable parallax on mobile (<= 768px)
                if (window.matchMedia("(min-width: 769px)").matches) {
                    gsap.to(privacyVideo, {
                        yPercent: 20, // Parallax lag
                        ease: "none",
                        scrollTrigger: {
                            trigger: privacySection,
                            start: "top bottom",
                            end: "bottom top",
                            scrub: true
                        }
                    });
                }
            }

            // --- NEURAL COMPANION CORE (The "Living Lattice") ---
            function initBrainEngine() {
                const canvas = document.getElementById('brainCanvas');
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                const container = document.querySelector('.life-stream-container');

                // --- CORE SETTINGS ---
                let width, height;
                const particleCount = 280; // "Faint Lattice" - dense enough for structure
                const brainRadius = 130; // Size of the core
                const connectionDist = 45; // Max dist to draw lines

                // --- PHYSICS STATE ---
                let rotation = { x: 0, y: 0 };
                let targetRotation = { x: 0, y: 0 };
                let mouse = { x: 0, y: 0, active: false };
                let time = 0;

                // --- SCANNER STATE ---
                let scanLine = -200; // Vertical position of the "MRI" scan
                let scanning = true;

                // --- PARTICLES ---
                let particles = [];

                // Resize Logic (High DPI)
                const resize = () => {
                    const rect = canvas.getBoundingClientRect();
                    width = rect.width;
                    height = rect.height;
                    canvas.width = width * 2;
                    canvas.height = height * 2;
                    ctx.scale(2, 2);
                };
                resize();
                window.addEventListener('resize', resize);

                // --- INTERACTION ---
                document.addEventListener('mousemove', (e) => {
                    const rec = canvas.getBoundingClientRect();
                    const cx = rec.left + rec.width / 2;
                    const cy = rec.top + rec.height / 2;

                    // Normalize -1 to 1 for Rotation Target
                    targetRotation.y = ((e.clientX - cx) / (window.innerWidth / 2)) * 0.4;
                    targetRotation.x = ((e.clientY - cy) / (window.innerHeight / 2)) * 0.4;

                    // Mouse Pos for Magnetism (Relative to Canvas CENTER)
                    mouse.x = (e.clientX - rec.left) - width / 2;
                    mouse.y = (e.clientY - rec.top) - height / 2;
                    mouse.active = true;
                });

                // --- PARTICLE CLASS ---
                class CoreNode {
                    constructor(id) {
                        this.id = id;
                        // Initialize on Sphere Surface (Fibonacci)
                        const phi = Math.acos(-1 + (2 * id) / particleCount);
                        const theta = Math.sqrt(particleCount * Math.PI) * phi;
                        const r = Math.cbrt(Math.random()) * brainRadius; // Volume dist

                        this.x = r * Math.sin(phi) * Math.cos(theta);
                        this.y = r * Math.sin(phi) * Math.sin(theta);
                        this.z = r * Math.cos(phi);

                        // Base position to return to (for springing)
                        this.base = { x: this.x, y: this.y, z: this.z };

                        // Velocity (Drifting)
                        this.vx = (Math.random() - 0.5) * 0.1;
                        this.vy = (Math.random() - 0.5) * 0.1;
                        this.vz = (Math.random() - 0.5) * 0.1;

                        // State
                        this.projected = { x: 0, y: 0, z: 0, scale: 0, alpha: 0 };
                        this.isScanned = 0; // 0 to 1 fade out
                    }

                    update() {
                        // 1. Idle Drift
                        this.x += this.vx;
                        this.y += this.vy;
                        this.z += this.vz;

                        // 2. Soft Spring to Base (Structure Retention)
                        this.vx += (this.base.x - this.x) * 0.001;
                        this.vy += (this.base.y - this.y) * 0.001;
                        this.vz += (this.base.z - this.z) * 0.001;

                        // 3. Mouse Magnetism (Repulsion/Attraction)
                        if (mouse.active) {
                            // Gentle "Awareness" jitter
                            this.x += (Math.random() - 0.5) * 0.05;
                        }

                        // Damping
                        this.vx *= 0.96;
                        this.vy *= 0.96;
                        this.vz *= 0.96;
                    }
                }

                // --- INIT PARTICLES ---
                for (let i = 0; i < particleCount; i++) particles.push(new CoreNode(i));

                // --- MAIN LOOP ---
                function animate() {
                    time += 0.05;
                    ctx.clearRect(0, 0, width, height);

                    // 1. Update Rotation with Inertia
                    rotation.x += (targetRotation.x - rotation.x) * 0.05;
                    rotation.y += (targetRotation.y - rotation.y) * 0.05;

                    // Precalc Matrix
                    const cosX = Math.cos(rotation.x), sinX = Math.sin(rotation.x);
                    const cosY = Math.cos(rotation.y), sinY = Math.sin(rotation.y);

                    // 2. Find Active Task (The "Attractor")
                    let taskTarget = null;
                    const activeNode = document.querySelector('.life-node.active');
                    if (activeNode && container) {
                        const nRect = activeNode.getBoundingClientRect();
                        const cRect = canvas.getBoundingClientRect();
                        if (nRect.top < cRect.bottom && nRect.bottom > cRect.top) {
                            taskTarget = {
                                x: (nRect.left + nRect.width / 2) - cRect.left,
                                y: (nRect.top + nRect.height / 2) - cRect.top
                            };
                        }
                    }

                    // 3. Scan Logic
                    scanLine += 2;
                    if (scanLine > width + 100) scanLine = -200;


                    // 4. Update & Project All Particles
                    let closestToTask = null;
                    let minTaskDist = 99999;

                    particles.forEach(p => {
                        p.update();

                        // Rotate Y
                        let x1 = p.x * cosY - p.z * sinY;
                        let z1 = p.z * cosY + p.x * sinY;
                        // Rotate X
                        let y2 = p.y * cosX - z1 * sinX;
                        let z2 = z1 * cosX + p.y * sinX;

                        // Perspective
                        const perspective = 400 / (400 + z2);
                        p.projected.x = width / 2 + x1 * perspective;
                        p.projected.y = height / 2 + y2 * perspective;
                        p.projected.z = z2;
                        p.projected.scale = perspective;

                        // Depth Alpha: Fade back nodes
                        const alpha = Math.max(0.1, Math.min(1, (z2 + brainRadius) / (brainRadius * 2) + 0.1));
                        p.projected.alpha = alpha;

                        // Scan Check
                        const distToScan = Math.abs(p.projected.x - scanLine);
                        if (distToScan < 30) {
                            p.isScanned = 1; // Trigger glow
                        } else {
                            p.isScanned *= 0.9; // Fade out
                        }

                        // Find Closest to Task
                        if (taskTarget && z2 > 0) {
                            const dx = p.projected.x - taskTarget.x;
                            const dy = p.projected.y - taskTarget.y;
                            const d2 = dx * dx + dy * dy;
                            if (d2 < minTaskDist) {
                                minTaskDist = d2;
                                closestToTask = p;
                            }
                        }
                    });


                    // 5. Draw Connections (The Lattice)
                    ctx.lineWidth = 0.5;

                    for (let i = 0; i < particleCount; i++) {
                        const p1 = particles[i];
                        let connections = 0;
                        for (let j = i + 1; j < particleCount; j++) {
                            const p2 = particles[j];

                            // 3D Dist check (Real Structure)
                            const dx = p1.x - p2.x;
                            const dy = p1.y - p2.y;
                            const dz = p1.z - p2.z;
                            const distSq = dx * dx + dy * dy + dz * dz;

                            if (distSq < connectionDist * connectionDist) {
                                // Calculate Line Alpha
                                const avgAlpha = (p1.projected.alpha + p2.projected.alpha) * 0.5;
                                if (avgAlpha < 0.2) continue; // Skip deeply hidden lines

                                let r = 0, g = 0, b = 0, a = avgAlpha * 0.15; // Base color

                                // Scan Glow
                                const scanIntensity = Math.max(p1.isScanned, p2.isScanned);
                                if (scanIntensity > 0.1) {
                                    // Electric Green overlay
                                    r = 57; g = 255; b = 20;
                                    a = scanIntensity * 0.6; // Brigher
                                    ctx.lineWidth = 1; /* Thicker */
                                } else {
                                    ctx.lineWidth = 0.5;
                                }

                                ctx.strokeStyle = `rgba(${r},${g},${b},${a})`;
                                ctx.beginPath();
                                ctx.moveTo(p1.projected.x, p1.projected.y);
                                ctx.lineTo(p2.projected.x, p2.projected.y);
                                ctx.stroke();

                                connections++;
                                if (connections > 4) break;
                            }
                        }
                    }

                    // 6. Draw Nodes
                    particles.forEach(p => {
                        const s = p.projected.scale;
                        // Base Node
                        ctx.fillStyle = `rgba(30, 30, 30, ${p.projected.alpha})`;

                        // Scanned Node?
                        if (p.isScanned > 0.05) {
                            ctx.fillStyle = `rgba(57, 255, 20, ${p.isScanned})`;
                            // Bloom
                            ctx.shadowBlur = 10 * p.isScanned;
                            ctx.shadowColor = '#39FF14';
                        } else {
                            ctx.shadowBlur = 0;
                        }

                        ctx.beginPath();
                        ctx.arc(p.projected.x, p.projected.y, 1.5 * s, 0, Math.PI * 2);
                        ctx.fill();
                    });
                    ctx.shadowBlur = 0; // Reset


                    // 7. Tether to Task (The "Lock On")
                    if (taskTarget && closestToTask) {
                        if (minTaskDist < 80000) { // Sqrt(80000) ~= 280px
                            const p = closestToTask;

                            // Organic Curve (Tentacle)
                            const cp1x = p.projected.x + (taskTarget.x - p.projected.x) * 0.4;
                            const cp1y = p.projected.y - 40 * Math.sin(time * 0.1); // Wiggle

                            const cp2x = taskTarget.x - (taskTarget.x - p.projected.x) * 0.4;
                            const cp2y = taskTarget.y + 40 * Math.cos(time * 0.13); // Wiggle

                            // Gradient Tether
                            const grad = ctx.createLinearGradient(p.projected.x, p.projected.y, taskTarget.x, taskTarget.y);
                            grad.addColorStop(0, '#39FF14');
                            grad.addColorStop(1, 'rgba(57, 255, 20, 0.1)'); // Fade out at task

                            ctx.shadowBlur = 15;
                            ctx.shadowColor = 'rgba(57, 255, 20, 0.5)';
                            ctx.strokeStyle = grad;
                            ctx.lineWidth = 1.5;
                            ctx.lineCap = 'round';

                            ctx.beginPath();
                            ctx.moveTo(p.projected.x, p.projected.y);
                            ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, taskTarget.x, taskTarget.y);
                            ctx.stroke();
                            ctx.shadowBlur = 0;

                            // Contact Point Pulse
                            ctx.fillStyle = '#39FF14';
                            ctx.beginPath();
                            ctx.arc(taskTarget.x, taskTarget.y, 3 + Math.sin(time) * 1, 0, Math.PI * 2);
                            ctx.fill();
                        }
                    }

                    requestAnimationFrame(animate);
                }
                animate();
            }

            // Init with delay
            setTimeout(initBrainEngine, 500);

            // --- SECTION 8: PRIVACY ---
            const privTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#sectionPrivacy",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            // Text Entrance (Right)
            privTl.from("#privEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                .from("#privHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.4")
                .from("#privSubhead", { opacity: 0, duration: 0.6 }, "-=0.3")
                .from("#privMicro", { opacity: 0, x: -10, duration: 0.5 }, "-=0.2");

            // Visual Entrance (Left)
            privTl.from("#shieldCore", { scale: 0, opacity: 0, duration: 0.8, ease: "back.out(1.5)" }, "-=1")
                .from(".shield-ring", { scale: 1.5, opacity: 0, duration: 0.8, stagger: 0.2, ease: "power2.out" }, "-=0.6");

            // Particle Simulation Logic
            // Simple GSAP loop to fire particles at the shield
            function fireThreat() {
                // Create particle
                const p = document.createElement('div');
                p.classList.add('threat-particle');
                document.getElementById('particleContainer').appendChild(p);

                // Random angle
                const angle = Math.random() * Math.PI * 2;
                const dist = 300; // Start outside
                const startX = Math.cos(angle) * dist;
                const startY = Math.sin(angle) * dist;

                // Set initial pos
                gsap.set(p, { x: startX, y: startY, opacity: 1, left: '50%', top: '50%' });

                // Animate to center but die at shield radius (approx 100px)
                const endX = Math.cos(angle) * 80;
                const endY = Math.sin(angle) * 80;

                gsap.to(p, {
                    x: endX,
                    y: endY,
                    duration: 1.5,
                    ease: "power1.in",
                    onComplete: () => {
                        // Impact effect?
                        gsap.to(p, { scale: 2, opacity: 0, duration: 0.2, onComplete: () => p.remove() });
                        // Shake shield slightly
                        gsap.to("#outerRing", { scale: 1.02, duration: 0.05, yoyo: true, repeat: 1 });
                    }
                });
            }

            // Run simulation every 500ms when simulated
            setInterval(fireThreat, 800);

            // --- SECTION 9: BUILDING IN PUBLIC ---
            const pubTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#sectionPublic",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            // Text
            pubTl.from("#pubEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                .from("#pubHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.4")
                .from("#pubSubhead", { opacity: 0, duration: 0.6 }, "-=0.3");

            // Timeline Animation
            // Grow line
            pubTl.from("#pubLine", { scaleY: 0, duration: 1, ease: "power2.inOut" }, "-=0.2");

            // Pop in dots
            pubTl.from(".commit-dot", {
                scale: 0,
                duration: 0.4,
                stagger: 0.2,
                ease: "back.out(1.7)"
            }, "-=0.8");

            // Slide in content
            pubTl.from(".commit-content", {
                x: -20,
                opacity: 0,
                duration: 0.5,
                stagger: 0.2,
                ease: "power2.out"
            }, "<"); // Sync w dots

            // CTA
            pubTl.from("#pubCtaRow", { opacity: 0, y: 10, duration: 0.6 }, "-=0.2");



            // --- SECTION 12: OPEN SOURCE (FILE TREE) ---
            const openTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#sectionOpen",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            // Content Left
            openTl.from("#openEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                .from("#openHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.4")
                .from("#openSubhead", { opacity: 0, duration: 0.6 }, "-=0.3")
                .from("#openCta", { opacity: 0, y: 10, duration: 0.5 }, "-=0.2")
                .from("#mitBadge", { opacity: 0, scale: 0.9, duration: 0.5 }, "-=0.3");

            // File Tree Right
            if (hasEl("#fileTreeObj")) openTl.from("#fileTreeObj", { x: 30, opacity: 0, duration: 0.8, ease: "power2.out" }, "-=0.8");

            // Expand Folders Sequence
            // jarvis-core open -> agents open -> list files
            if (hasEl("#repoTree > .tree-children")) openTl.from("#repoTree > .tree-children", { height: 0, opacity: 0, duration: 0.5, ease: "power2.inOut" }, "-=0.4");
            if (hasEl("#repoTree .tree-children .tree-children")) {
                openTl.from("#repoTree .tree-children .tree-children", { height: 0, opacity: 0, duration: 0.5, ease: "power2.inOut", stagger: 0.2 }, ">")
                    .from("#repoTree .file-row", { x: -10, opacity: 0, duration: 0.3, stagger: 0.1 }, "<0.2");
            }


            // --- 1. ENTRANCE ANIMATION ---
            const heroContent = document.getElementById('heroContent');
            const videoWrapper = document.getElementById('videoWrapper');

            setTimeout(() => {
                videoWrapper.classList.add('loaded');
            }, 200);

            setTimeout(() => {
                heroContent.classList.add('visible');
            }, 800);


            // --- 2. CANVAS PHYSICS GRID (The "kr8tiv AI" Effect) ---
            const canvas = document.getElementById('physics-canvas');
            const ctx = canvas.getContext('2d');

            let width, height;
            let mouseX = -1000;
            let mouseY = -1000;

            // Grid Settings
            const gridSize = 60; // Larger for technical look
            const pointInfluence = 250; // Radius of mouse influence
            const friction = 0.9;
            const elasticity = 0.1;

            class Point {
                constructor(x, y) {
                    this.x = x;
                    this.y = y;
                    this.originX = x;
                    this.originY = y;
                    this.vx = 0;
                    this.vy = 0;
                }

                update() {
                    // Distance from mouse
                    const dx = mouseX - this.x;
                    const dy = mouseY - this.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    // Physics: Push away if close (Gravity well)
                    if (dist < pointInfluence) {
                        const angle = Math.atan2(dy, dx);
                        const force = (pointInfluence - dist) / pointInfluence;
                        // Push away
                        const pushX = Math.cos(angle) * force * 15;
                        const pushY = Math.sin(angle) * force * 15;

                        this.vx -= pushX;
                        this.vy -= pushY;
                    }

                    // Spring back to origin
                    const springX = (this.originX - this.x) * elasticity;
                    const springY = (this.originY - this.y) * elasticity;

                    this.vx += springX;
                    this.vy += springY;

                    // Apply velocity
                    this.vx *= friction;
                    this.vy *= friction;

                    this.x += this.vx;
                    this.y += this.vy;
                }
            }

            // --- OPTIMIZED GRID DRAWING (Connected Lines) ---
            let gridRows = [];
            let rX = 0;
            let rY = 0;

            function initConnectedGrid() {
                gridRows = [];
                rX = Math.ceil(width / gridSize) + 1;
                rY = Math.ceil(height / gridSize) + 1;

                for (let y = 0; y < rY; y++) {
                    let row = [];
                    for (let x = 0; x < rX; x++) {
                        row.push(new Point(x * gridSize, y * gridSize));
                    }
                    gridRows.push(row);
                }
            }

            function drawConnected() {
                ctx.clearRect(0, 0, width, height);

                // Update all
                for (let y = 0; y < rY; y++) {
                    for (let x = 0; x < rX; x++) {
                        gridRows[y][x].update();
                    }
                }

                ctx.strokeStyle = 'rgba(255, 255, 255, 0.08)';
                ctx.lineWidth = 1;
                ctx.beginPath();

                // Draw Horizontal
                for (let y = 0; y < rY; y++) {
                    // Start path
                    ctx.moveTo(gridRows[y][0].x, gridRows[y][0].y);
                    for (let x = 1; x < rX; x++) {
                        ctx.lineTo(gridRows[y][x].x, gridRows[y][x].y);
                    }
                }

                // Draw Vertical
                for (let x = 0; x < rX; x++) {
                    ctx.moveTo(gridRows[0][x].x, gridRows[0][x].y);
                    for (let y = 1; y < rY; y++) {
                        ctx.lineTo(gridRows[y][x].x, gridRows[y][x].y);
                    }
                }

                ctx.stroke();
            }

            // --- 3. VIDEO DISTORTION REMOVED (STATIC VIDEO) ---
            // The Jittery function updateVideoDistortion() has been deleted.

            function animate() {
                drawConnected();
                // updateVideoDistortion(); // REMOVED
                requestAnimationFrame(animate);
            }

            // Listeners
            window.addEventListener('resize', () => {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
                initConnectedGrid();
            });

            window.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            // Init
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            initConnectedGrid();
            animate();
            // --- SECTION 13: TOKEN ($KR8TIV) ---
            const tokTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#sectionToken",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            // 1. Text Stagger
            tokTl.from("#tokEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                .from("#tokHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.4")
                .from("#tokSubhead", { opacity: 0, duration: 0.6 }, "-=0.3")
                .from("#tokMicro", { opacity: 0, x: -10, duration: 0.5 }, "-=0.2")
                .from("#tokBtnGroup", { opacity: 0, y: 10, duration: 0.5 }, "-=0.2")
                .from("#tokLogos", { opacity: 0, duration: 0.6 }, "-=0.3");

            // 2. Visual Entrance
            if (hasEl("#chromeToken")) tokTl.from("#chromeToken", {
                scale: 0,
                rotation: -90,
                opacity: 0,
                duration: 1.2,
                ease: "back.out(1.2)"
            }, "-=1");

            // 3. Nodes Pop & Connect
            if (hasEl(".connection-node")) tokTl.from(".connection-node", {
                scale: 0,
                opacity: 0,
                duration: 0.5,
                stagger: 0.2,
                ease: "back.out(1.5)"
            }, "-=0.6");

            // Ambient float for nodes (random)
            if (!prefersReducedMotion && !isMobile) {
                if (hasEl("#node1")) gsap.to("#node1", { y: -15, duration: 2.5, yoyo: true, repeat: -1, ease: "sine.inOut" });
                if (hasEl("#node2")) gsap.to("#node2", { y: 15, duration: 3.2, yoyo: true, repeat: -1, ease: "sine.inOut", delay: 0.5 });
                if (hasEl("#node3")) gsap.to("#node3", { y: -10, duration: 2.8, yoyo: true, repeat: -1, ease: "sine.inOut", delay: 1 });
            }

            // --- SECTION 15: ROADMAP ---
            if (hasEl("#sectionRoadmap")) {
                const roadTl = gsap.timeline({
                    scrollTrigger: {
                        trigger: "#sectionRoadmap",
                        start: "top 75%",
                        toggleActions: "play none none reverse"
                    }
                });

                // 1. Header
                roadTl.from("#roadEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                    .from("#roadHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.4");

                // 2. Columns Stagger
                roadTl.from(".roadmap-col", {
                    y: 40,
                    opacity: 0,
                    duration: 0.8,
                    stagger: 0.2,
                    ease: "power2.out"
                }, "-=0.2");

                // 3. Items Internal Stagger
                roadTl.from(".item-now", { x: -10, opacity: 0, stagger: 0.1, duration: 0.4 }, "-=0.6");
                roadTl.from(".item-next", { x: -10, opacity: 0, stagger: 0.1, duration: 0.4 }, "-=0.4");
                roadTl.from(".item-later", { x: -10, opacity: 0, stagger: 0.1, duration: 0.4 }, "-=0.4");
            }

            // --- SECTION 16: COMMUNITY ---
            if (hasEl("#sectionCommunity")) {
                const commTl = gsap.timeline({
                    scrollTrigger: {
                        trigger: "#sectionCommunity",
                        start: "top 70%",
                        toggleActions: "play none none reverse"
                    }
                });

                // Text
                commTl.from("#commEyebrow", { y: 20, opacity: 0, duration: 0.5 })
                    .from("#commHeadline", { y: 30, opacity: 0, duration: 0.6 }, "-=0.4")
                    .from("#commSubhead", { opacity: 0, duration: 0.6 }, "-=0.3")
                    .from("#commBtns", { opacity: 0, y: 10, duration: 0.5 }, "-=0.2");

                // Hex Grid
                commTl.from(".hex-node", {
                    scale: 0,
                    opacity: 0,
                    duration: 0.6,
                    stagger: {
                        amount: 0.8,
                        grid: "auto",
                        from: "center"
                    },
                    ease: "back.out(1.5)"
                }, "-=0.8");

                // Pulse Active Nodes
                if (!prefersReducedMotion && !isMobile && hasEl(".hex-node.active")) gsap.to(".hex-node.active", {
                    boxShadow: "0 10px 40px rgba(57, 255, 20, 0.4)",
                    scale: 1.05,
                    duration: 1.5,
                    repeat: -1,
                    yoyo: true,
                    ease: "sine.inOut",
                    stagger: 0.2
                });
            } // End #sectionCommunity guard

            // --- SECTION 17: FINAL CTA ---
            const finalTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#sectionFinal",
                    start: "top 70%",
                    toggleActions: "play none none reverse"
                }
            });

            // Headline
            finalTl.fromTo("#finalHeadline",
                {
                    scale: 0.9,
                    opacity: 0,
                    filter: "blur(10px)"
                },
                {
                    scale: 1,
                    opacity: 1,
                    filter: "blur(0px)",
                    duration: 1,
                    ease: "power3.out"
                })
                .from("#finalSubhead", {
                    y: 10,
                    opacity: 0,
                    duration: 0.8
                }, "-=0.6");

            // Cards "Holographic Materialize"
            finalTl.fromTo(".path-card",
                {
                    scale: 0.8,
                    opacity: 0,
                    filter: "blur(20px)",
                    y: 40
                },
                {
                    scale: 1,
                    opacity: 1,
                    filter: "blur(0px)",
                    y: 0,
                    duration: 0.8,
                    stagger: 0.1,
                    ease: "back.out(1.7)"
                }, "-=0.4");

            // Footer Fade
            finalTl.from("#mainFooter", { opacity: 0, duration: 1 }, "-=0.2");

            // --- FOOTER PARALLAX ---
            // Move the video background slowly against scroll
            if (!prefersReducedMotion && !isMobile) {
                gsap.fromTo(".final-video-bg",
                    { y: "-20%" },
                    {
                        y: "10%",
                        ease: "none",
                        scrollTrigger: {
                            trigger: "#sectionFinal",
                            start: "top bottom",
                            end: "bottom top",
                            scrub: true
                        }
                    }
                );
            }

            // --- SECTION 3: SOLANA NANOBANANA MOTION ---
            // Guard: Reduced Motion
            if (!prefersReducedMotion) {

                // 1. SPEED: Scan Rail Pulse (Left to Right)
                if (!isMobile && hasEl(".scan-pulse")) {
                    const tlSpeed = gsap.timeline({ repeat: -1, repeatDelay: 2 });
                    tlSpeed.fromTo(".scan-pulse",
                        { attr: { x1: 4, x2: 4 }, opacity: 0 },
                        { attr: { x1: 4, x2: 12 }, opacity: 1, duration: 0.4, ease: "power2.out" } // Spawn
                    )
                        .to(".scan-pulse", {
                            attr: { x1: 20, x2: 28 },
                            duration: 1.2,
                            ease: "power1.inOut"
                        }) // Travel
                        .to(".scan-pulse", {
                            attr: { x1: 28, x2: 28 },
                            opacity: 0,
                            duration: 0.3,
                            ease: "power2.in"
                        }); // Vanish
                }

                // 2. COST: Ledger Fill & Node Blink
                if (!isMobile && hasEl(".ledger-fill")) {
                    const tlCost = gsap.timeline({ repeat: -1, repeatDelay: 3 });
                    tlCost.to(".ledger-fill", {
                        strokeDashoffset: 0,
                        duration: 1.5,
                        ease: "expo.inOut"
                    })
                        .to(".ledger-dot", { opacity: 1, duration: 0.1, yoyo: true, repeat: 3 }, "-=0.5")
                        .to(".ledger-fill", {
                            opacity: 0,
                            duration: 0.5
                        }, "+=0.5")
                        .set(".ledger-fill", { strokeDashoffset: 20, opacity: 1 }); // Reset

                    // 3. UPTIME: Continuous Orbit
                    if (hasEl(".orbit-group")) {
                        const tlUptime = gsap.to(".orbit-group", {
                            rotation: 360,
                            duration: 8,
                            repeat: -1,
                            ease: "none"
                        });

                        // HOVER INTENSIFICATION for uptime
                        const addHoverUptime = (id, tl, scale = 2) => {
                            const el = document.getElementById(id);
                            if (!el) return;
                            el.addEventListener('mouseenter', () => gsap.to(tl, { timeScale: scale, duration: 0.5 }));
                            el.addEventListener('mouseleave', () => gsap.to(tl, { timeScale: 1, duration: 0.5 }));
                        };
                        addHoverUptime("statUptime", tlUptime, 3.0);
                    }
                } // End .ledger-fill

                // --- SECTION 3: SOLANA VELOCITY ENGINE ---
                function initSolanaEngine() {
                    const canvas = document.getElementById('solanaCanvas');
                    const container = document.getElementById('sectionSolana');
                    if (!canvas || !container) return;

                    const ctx = canvas.getContext('2d');
                    let width, height;
                    let particles = [];
                    let mouse = { x: -9999, y: -9999, active: false };

                    // Resize & Setup
                    const resize = () => {
                        width = container.offsetWidth;
                        height = container.offsetHeight;
                        canvas.width = width;
                        canvas.height = height;
                        initParticles();
                    };

                    // Mouse Tracking
                    container.addEventListener('mousemove', (e) => {
                        const rect = container.getBoundingClientRect();
                        mouse.x = e.clientX - rect.left;
                        mouse.y = e.clientY - rect.top;
                        mouse.active = true;
                    });

                    container.addEventListener('mouseleave', () => {
                        mouse.active = false;
                        mouse.x = -9999;
                    });

                    // Particle Class (Velocity Lines)
                    class Particle {
                        constructor() {
                            this.reset();
                        }
                        reset() {
                            this.x = Math.random() * width;
                            this.y = Math.random() * height;
                            this.z = Math.random() * 2 + 0.5; // Depth speed multiplier
                            this.length = Math.random() * 100 + 20;
                            this.opacity = Math.random() * 0.15 + 0.05; // Faint default
                            this.speed = Math.random() * 15 + 5;

                            // Interaction Physics
                            this.vx = 0;
                            this.vy = 0;
                        }
                        update(scrollSpeed) {
                            // 1. Base Flow (Leftward)
                            let dx = (this.speed * this.z) + (scrollSpeed * 2);

                            // 2. Mouse Interaction (Repulsion)
                            if (mouse.active) {
                                const distDx = this.x - mouse.x;
                                const distDy = this.y - mouse.y;
                                const dist = Math.sqrt(distDx * distDx + distDy * distDy);

                                if (dist < 150) { // Interaction Radius
                                    const force = (150 - dist) / 150; // 0 to 1
                                    const angle = Math.atan2(distDy, distDx);

                                    // Explode force
                                    this.vx += Math.cos(angle) * force * 2;
                                    this.vy += Math.sin(angle) * force * 2;
                                }
                            }

                            // Apply Physics
                            this.x -= dx - this.vx; // Subtract vx because flow is left, so positive vx pushes right (against flow)
                            this.y += this.vy;

                            // Friction / Damping
                            this.vx *= 0.92;
                            this.vy *= 0.92;

                            // Wrap
                            if (this.x < -this.length * 2) {
                                this.x = width + Math.random() * 200;
                                this.y = Math.random() * height;
                                this.vx = 0;
                                this.vy = 0;
                            }
                            // Vertical Wrap (if exploded off screen)
                            if (this.y < -50) this.y = height + 50;
                            if (this.y > height + 50) this.y = -50;
                        }

                        draw(ctx) {
                            ctx.beginPath();
                            ctx.strokeStyle = `rgba(0, 0, 0, ${this.opacity})`;
                            // Thinner lines for depth
                            ctx.lineWidth = 1 * this.z;

                            // Angle calculation based on velocity (Dynamic tilt)
                            // If exploded, line should tilt 
                            let angle = 0;
                            if (Math.abs(this.vy) > 0.1) {
                                // Simple tilt approximation
                            }

                            ctx.moveTo(this.x, this.y);
                            // Streak tail follows velocity vector roughly
                            // But simplify: just draw horizontal line + vy offset
                            ctx.lineTo(this.x + this.length * this.z, this.y - this.vy * 5);
                            ctx.stroke();
                        }
                    }

                    function initParticles() {
                        particles = [];
                        const count = window.innerWidth < 900 ? 500 : 2000; // Optimize for mobile
                        for (let i = 0; i < count; i++) {
                            particles.push(new Particle());
                        }
                    }

                    // Animation Loop
                    let scrollSpeed = 0;
                    let lastScroll = window.scrollY;

                    function animate() {
                        ctx.clearRect(0, 0, width, height);

                        // Calculate virtual speed from scroll delta
                        const currentScroll = window.scrollY;
                        const delta = currentScroll - lastScroll;
                        scrollSpeed += (Math.abs(delta) - scrollSpeed) * 0.1; // Smooth damp
                        lastScroll = currentScroll;

                        particles.forEach(p => {
                            p.update(scrollSpeed);
                            p.draw(ctx);
                        });

                        // Occasional Green Spark
                        if (Math.random() > 0.98) {
                            const x = Math.random() * width;
                            const y = Math.random() * height;
                            ctx.fillStyle = 'rgba(57, 255, 20, 0.4)';
                            ctx.fillRect(x, y, Math.random() * 50 + 20, 2);
                        }

                        requestAnimationFrame(animate);
                    }

                    window.addEventListener('resize', resize);
                    resize();
                    animate();

                    // GSAP Triggers (Keep existing parallax code...)
                    // We must re-init generic GSAP triggers here if not kept outside
                    // But the previous code had them inside. I will replicate them.
                    if (!isMobile) {
                        gsap.to(".layer-deep", {
                            yPercent: 20,
                            ease: "none",
                            scrollTrigger: {
                                trigger: "#sectionSolana",
                                start: "top bottom",
                                end: "bottom top",
                                scrub: true
                            }
                        });
                        gsap.to(".layer-mid", {
                            yPercent: 10,
                            ease: "none",
                            scrollTrigger: {
                                trigger: "#sectionSolana",
                                start: "top bottom",
                                end: "bottom top",
                                scrub: true
                            }
                        });
                    }

                    // Defensive Init for Solana Cards
                    const solanaCards = gsap.utils.toArray(".solana-features .solana-card");
                    if (solanaCards.length > 0) {
                        gsap.fromTo(solanaCards,
                            { y: 50, autoAlpha: 0 },
                            {
                                y: 0,
                                autoAlpha: 1,
                                duration: 0.8,
                                stagger: 0.15,
                                ease: "power2.out",
                                scrollTrigger: {
                                    trigger: ".solana-features",
                                    start: "top 75%",
                                    toggleActions: "play none none none",
                                    invalidateOnRefresh: true
                                }
                            }
                        );
                    }

                    gsap.from(".tech-stack", {
                        opacity: 0,
                        y: 20,
                        duration: 1,
                        delay: 0.5,
                        scrollTrigger: {
                            trigger: ".solana-features",
                            start: "top 60%"
                        }
                    });
                }
                initSolanaEngine();

                // --- SECTION 5: LIVING FLUID STREAM (CANVAS SIMULATION) ---
                function initLivingStream() {
                    const canvas = document.getElementById('simCanvas');
                    const container = document.getElementById('execMonitor');
                    if (!canvas || !container) return;

                    const ctx = canvas.getContext('2d');
                    let width, height;
                    let particles = [];
                    let animationId;

                    // State Logic
                    let systemState = 'SEARCH'; // SEARCH | LOCK | OPTIMIZED
                    let stateTimer = 0;
                    let mouse = { x: 0, y: 0, active: false };

                    // HUD Elements
                    const dot = document.getElementById('streamDot');
                    const statusText = document.getElementById('streamStatus');
                    const readoutVol = document.getElementById('streamDataLeft').querySelector('span:last-child');
                    const readoutRoute = document.getElementById('streamDataRight').querySelector('span:last-child');

                    // Configuration (High Contrast Light Theme)
                    const cfg = {
                        particleCount: 1600,
                        baseSpeed: 0.8,
                        colorBase: 'rgba(20, 20, 20, 0.6)', // Much darker, higher opacity for visibility
                        colorHighlight: 'rgba(0, 160, 40, 0.9)', // Deep, rich green for contrast
                        searchNoiseScale: 0.005,
                        lockNoiseScale: 0.001
                    };

                    // Resize
                    function resize() {
                        width = container.clientWidth;
                        height = container.clientHeight;
                        // Reset Logic to handle resize
                        if (width && height) {
                            canvas.width = width;
                            canvas.height = height;
                            initParticles();
                        }
                    }
                    window.addEventListener('resize', resize);
                    // Note: resize() is called AFTER Particle class is defined (see below)

                    // Mouse Interaction
                    container.addEventListener('mousemove', (e) => {
                        const rect = container.getBoundingClientRect();
                        mouse.x = e.clientX - rect.left;
                        mouse.y = e.clientY - rect.top;
                        mouse.active = true;
                        // Reset active flag after inactivity
                        clearTimeout(mouse.timer);
                        mouse.timer = setTimeout(() => { mouse.active = false; }, 1000);
                    });

                    // Particle Class
                    class Particle {
                        constructor() {
                            this.reset();
                        }

                        reset() {
                            this.x = Math.random() * width;
                            this.y = Math.random() * height;
                            this.vx = 0;
                            this.vy = 0;
                            this.age = Math.random() * 100;
                            this.life = 100 + Math.random() * 200;
                            this.size = Math.random() * 1.5;
                            this.focused = false;
                        }

                        update() {
                            // 1. Calculate Force Field 
                            let angle;

                            if (systemState === 'SEARCH') {
                                // Chaotic Swirls
                                angle = (Math.cos(this.x * cfg.searchNoiseScale) + Math.sin(this.y * cfg.searchNoiseScale)) * Math.PI * 2;
                                // Add time variance
                                angle += Date.now() * 0.0002;
                            } else {
                                // LOCK: Streamline 
                                // Flow towards center vertically, but move right fast
                                // Laminar Flow
                                const dy = (height / 2) - this.y;
                                angle = Math.atan2(dy * 0.05, 1); // Slight curve to center, mostly right
                            }

                            // 2. Physics
                            // Target velocity vector
                            const speed = systemState === 'LOCK' ? cfg.baseSpeed * 8 : cfg.baseSpeed;
                            const tx = Math.cos(angle) * speed;
                            const ty = Math.sin(angle) * speed;

                            // Easing towards target velocity (Fluidity)
                            this.vx += (tx - this.vx) * 0.05;
                            this.vy += (ty - this.vy) * 0.05;

                            // 3. Mouse Interaction (Repulsion)
                            if (mouse.active) {
                                const dx = this.x - mouse.x;
                                const dy = this.y - mouse.y;
                                const dist = Math.sqrt(dx * dx + dy * dy);
                                if (dist < 100) {
                                    const force = (100 - dist) / 100;
                                    const ang = Math.atan2(dy, dx);
                                    this.vx += Math.cos(ang) * force * 2;
                                    this.vy += Math.sin(ang) * force * 2;
                                }
                            }

                            // 4. Move
                            this.x += this.vx;
                            this.y += this.vy;

                            // 5. Wrap/Respawn
                            this.age++;
                            if (this.age > this.life || this.x > width + 50 || this.x < -50 || this.y > height + 50 || this.y < -50) {
                                // If locked, respawn on left to maintain stream
                                if (systemState === 'LOCK') {
                                    this.x = -10;
                                    this.y = (height / 2) + (Math.random() - 0.5) * 200;
                                    this.age = 0;
                                    this.vx = 5;
                                } else {
                                    this.reset();
                                }
                            }
                        }

                        draw(ctx) {
                            ctx.beginPath();
                            let alpha = 1 - (this.age / this.life);
                            if (alpha < 0) alpha = 0;

                            // "Expensive" style
                            if (systemState === 'LOCK') {
                                // Beam
                                const closenessToCenter = Math.abs((height / 2) - this.y);
                                if (closenessToCenter < 50) {
                                    ctx.strokeStyle = `rgba(0, 200, 50, ${alpha * 0.8})`; // Green punch
                                    ctx.lineWidth = this.size * 1.5;
                                } else {
                                    // Dark debris
                                    ctx.strokeStyle = `rgba(0, 0, 0, ${alpha * 0.2})`;
                                    ctx.lineWidth = this.size;
                                }
                            } else {
                                // Ambient fluid (Dark on light)
                                ctx.strokeStyle = `rgba(0, 0, 0, ${alpha * 0.15})`; // Subtle Ink
                                ctx.lineWidth = this.size;
                            }

                            // Draw trail (short)
                            ctx.moveTo(this.x, this.y);
                            // Back trace
                            ctx.lineTo(this.x - this.vx * 4, this.y - this.vy * 4);
                            ctx.stroke();
                        }
                    }

                    function initParticles() {
                        particles = [];
                        for (let i = 0; i < cfg.particleCount; i++) {
                            particles.push(new Particle());
                        }
                    }

                    // Main Loop
                    function animate() {
                        stateTimer++;

                        // Logic: 5s Search -> 2s Lock -> 1s Optimized (Flash) -> Reset
                        if (systemState === 'SEARCH' && stateTimer > 300) {
                            systemState = 'LOCK';
                            stateTimer = 0;
                            // HUD Update
                            statusText.innerText = "OPTIMIZING...";
                            statusText.style.color = "#00B432"; // Darker Green
                            dot.style.background = "#000";
                            readoutRoute.innerText = "CONVERGING";
                        } else if (systemState === 'LOCK' && stateTimer > 120) {
                            systemState = 'OPTIMIZED';
                            stateTimer = 0;
                            // Flash
                            statusText.innerText = "LOCKED";
                            readoutRoute.innerText = "ROUTE FOUND";
                            gsap.to(dot, {
                                scale: 2, opacity: 0, duration: 0.5, onComplete: () => {
                                    gsap.set(dot, { scale: 1, opacity: 1 });
                                }
                            });
                        } else if (systemState === 'OPTIMIZED' && stateTimer > 60) {
                            systemState = 'SEARCH';
                            stateTimer = 0;
                            statusText.innerText = "SCANNING...";
                            statusText.style.color = "#000";
                            dot.style.background = "#39FF14";
                            readoutRoute.innerText = "CALCULATING";
                        }

                        // Render (Light Paper Trail)
                        // We fill with WHITE with higher opacity (0.3) to clear trails faster = crisper movement
                        ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                        ctx.fillRect(0, 0, width, height);

                        particles.forEach(p => {
                            p.update();
                            p.draw(ctx);
                        });

                        animationId = requestAnimationFrame(animate);
                    }

                    // Trigger resizing to ensure context is right
                    // initParticles handled in resize
                    resize();

                    // Check reduced motion
                    if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                        // Fade in canvas
                        document.querySelector('.stream-canvas').style.opacity = 1;
                        animate();
                    }
                }

                // Init Option B
                initLivingStream();

                // --- SECTION 7: JARVIS BRAIN ANIMATION ---
                const brainTl = gsap.timeline({
                    scrollTrigger: {
                        trigger: "#sectionPersonal",
                        start: "top 60%",
                        toggleActions: "play pause resume pause"
                    }
                });

                // 1. Entrance: Brain Core appears
                if (hasEl(".brain-core")) brainTl.from(".brain-core", { scale: 0, opacity: 0, duration: 1, ease: "back.out(1.7)" });

                // 2. Paths Draw Out (staggered)
                if (hasEl(".brain-path")) brainTl.from(".brain-path", {
                    drawSVG: "0%",
                    opacity: 0,
                    duration: 1.2,
                    stagger: 0.2,
                    ease: "power2.out"
                }, "-=0.5");

                // 3. Landing Spots & Labels Appear
                if (hasEl(".brain-spot")) brainTl.to(".brain-spot", {
                    opacity: 1,
                    duration: 0.6,
                    stagger: 0.15,
                    ease: "power1.out"
                }, "-=0.5");

                // 4. Ripple on each landing spot
                if (hasEl(".spot-ripple")) {
                    brainTl.to(".spot-ripple", {
                        scale: 2,
                        opacity: 0.5,
                        duration: 0.4,
                        stagger: 0.15,
                        ease: "power1.out"
                    }, "-=0.6")
                        .to(".spot-ripple", {
                            scale: 3,
                            opacity: 0,
                            duration: 0.6,
                            stagger: 0.15
                        });
                }

                // NOTE: pulseRandomPath removed - it targeted nonexistent #bpath elements

                // Start after entrance - pulseRandomPath call removed

                // Slower Video Background
                const vizVideo = document.querySelector('.monitor-video-bg');
                if (vizVideo) {
                    vizVideo.playbackRate = 0.7;
                }

                // --- FOOTER SECTION PARALLAX + GRID ---
                const finalSection = document.getElementById('sectionFinal');
                const finalVideo = finalSection?.querySelector('.final-video-bg video');

                if (finalSection && finalVideo) {
                    // Mouse Parallax on Video (Desktop Only)
                    if (window.matchMedia("(min-width: 769px)").matches) {
                        finalSection.addEventListener('mousemove', (e) => {
                            const rect = finalSection.getBoundingClientRect();
                            const x = (e.clientX - rect.left) / rect.width - 0.5; // -0.5 to 0.5
                            const y = (e.clientY - rect.top) / rect.height - 0.5;

                            gsap.to(finalVideo, {
                                x: x * 30, // 30px max movement
                                y: y * 20,
                                duration: 0.8,
                                ease: "power2.out"
                            });
                        });
                    }

                    finalSection.addEventListener('mouseleave', () => {
                        gsap.to(finalVideo, {
                            x: 0,
                            y: 0,
                            duration: 1,
                            ease: "power2.out"
                        });
                    });

                    // Slow video playback
                    finalVideo.playbackRate = 0.6;
                }

            } // End reduced motion check (prefers-reduced-motion: no-preference)

        });
    </script>

    <!-- Universe 3D Logic (Inline) -->
    <script>
        window.addEventListener('load', function () {
            if (typeof THREE === 'undefined') {
                console.error('Three.js failed to load!');
                return;
            }
            console.log('Three.js Loaded. Initializing Universe...');

            (function initUniverse3D() {
                console.log('Initializing Universe 3D Scene...');
                const canvas = document.getElementById('universeCanvas');
                const container = document.getElementById('universeVisual');

                if (!canvas || !container) {
                    console.warn('Universe 3D: Canvas or container not found.');
                    return;
                }

                // --- FILE PROTOCOL CHECK ---
                const isFileProtocol = window.location.protocol === 'file:';
                if (isFileProtocol) {
                    console.warn("Running from file:// protocol - textures will fail CORS. Using CSS fallback. Run with a local server for full WebGL experience.");
                    // Defer fallback creation until function is defined below
                }

                // --- WEBGL CONTEXT TRACKING ---
                window.activeWebGLContexts = window.activeWebGLContexts || 0;
                if (window.activeWebGLContexts >= 4) {
                    console.warn("WebGL context limit approached, using CSS fallback.");
                    // Fallback will be created after function definition
                }

                // --- CSS FALLBACK SYSTEM ---
                function createCSSFallback() {
                    console.log("Creating Premium CSS Fallback...");
                    container.innerHTML = '';

                    const style = document.createElement('style');
                    style.textContent = `
                        .css-univ-scene { perspective: 1200px; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
                        .css-univ-ring { position: relative; width: 0; height: 0; transform-style: preserve-3d; transform: rotateX(10deg); }
                        .css-univ-card {
                            position: absolute;
                            width: 140px; height: 190px;
                            left: -70px; top: -95px;
                            background-color: rgba(255, 255, 255, 0.9);
                            background-position: center 40%; /* Move up slightly */
                            background-size: 80%; /* Contain the logo */
                            background-repeat: no-repeat;
                            backdrop-filter: blur(8px);
                            border: 1px solid rgba(255, 255, 255, 0.3);
                            border-radius: 16px;
                            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                            display: flex; justify-content: center; align-items: center;
                            font-family: 'DM Sans', sans-serif; font-size: 0px; color: transparent; /* Hide text if image */
                            -webkit-font-smoothing: antialiased;
                            backface-visibility: hidden;
                            transition: transform 0.3s ease;
                        }
                        /* Floating Animation */
                        @keyframes floatCard { 0%, 100% { margin-top: 0px; } 50% { margin-top: -15px; } }
                        
                        .css-univ-card::after {
                             /* Green Accent Bar */
                             content: ''; position: absolute; bottom: 0; left: 0; right: 0;
                             height: 4px; background: #39FF14; border-radius: 0 0 16px 16px;
                             opacity: 0.8;
                        }
                    `;
                    document.head.appendChild(style);

                    const scene = document.createElement('div');
                    scene.className = 'css-univ-scene';
                    const ring = document.createElement('div');
                    ring.className = 'css-univ-ring';
                    scene.appendChild(ring);
                    container.appendChild(scene);

                    const count = 9;
                    const radius = window.innerWidth < 800 ? 220 : 350;

                    for (let i = 0; i < count; i++) {
                        const angle = (i / count) * 360;
                        const card = document.createElement('div');
                        card.className = 'css-univ-card';

                        // Image Handling
                        card.style.backgroundImage = `url('${i + 1}.png')`;

                        // Per-card float delay
                        card.style.animation = `floatCard ${3 + Math.random()}s ease-in-out infinite`;
                        card.style.animationDelay = `${Math.random() * -2}s`;

                        // Outward facing: RotateY then TranslateZ
                        card.style.transform = `rotateY(${angle}deg) translateZ(${radius}px)`;
                        ring.appendChild(card);
                    }

                    // GSAP Scroll Interaction
                    if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {
                        gsap.to(ring, {
                            rotationY: 360,
                            ease: "none",
                            scrollTrigger: {
                                trigger: "#sectionUniverse",
                                start: "top bottom", end: "bottom top", scrub: 1.5
                            }
                        });
                        gsap.from(ring, {
                            scale: 0.8, opacity: 0, duration: 1, ease: "power2.out",
                            scrollTrigger: { trigger: "#sectionUniverse", start: "top 70%" }
                        });
                    }
                }

                // --- TRIGGER FALLBACKS IF NEEDED ---
                if (isFileProtocol || window.activeWebGLContexts >= 4) {
                    createCSSFallback();
                    return;
                }

                // Check WebGL 1
                try {
                    const testCanvas = document.createElement('canvas');
                    if (!testCanvas.getContext('webgl') && !testCanvas.getContext('experimental-webgl')) {
                        throw new Error("No WebGL Support");
                    }
                } catch (e) {
                    console.warn("WebGL Pre-check failed, deploying fallback.");
                    createCSSFallback();
                    return;
                }

                // --- CONFIG ---
                const ASSET_COUNT = 9;
                const isMobile = window.innerWidth < 800;
                const RADIUS = isMobile ? 4.5 : 7.0;
                const PARTICLE_COUNT = isMobile ? 300 : 800;

                let width = container.clientWidth;
                let height = container.clientHeight;

                // --- SCENE ---
                const scene = new THREE.Scene();
                scene.fog = new THREE.FogExp2(0xFFFFFF, isMobile ? 0.05 : 0.03);

                const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 100);
                camera.position.set(0, 0, isMobile ? 22 : 19);

                let renderer;
                try {
                    renderer = new THREE.WebGLRenderer({
                        canvas: canvas,
                        alpha: true,
                        antialias: false,
                        powerPreference: 'default'
                    });
                } catch (e) {
                    console.error("WebGL Init Failed:", e);
                    createCSSFallback();
                    return;
                }

                if (!renderer.getContext()) {
                    console.error("WebGL Context is null!");
                    createCSSFallback();
                    return;
                }
                renderer.setSize(width, height);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                renderer.toneMapping = THREE.ACESFilmicToneMapping;
                renderer.toneMappingExposure = 1.2;

                // Track WebGL context
                window.activeWebGLContexts++;

                // Handle context loss
                canvas.addEventListener('webglcontextlost', function (e) {
                    e.preventDefault();
                    window.activeWebGLContexts = Math.max(0, window.activeWebGLContexts - 1);
                    console.warn('Universe WebGL context lost, creating fallback.');
                    createCSSFallback();
                }, false);

                // --- LIGHTING ---
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.9);
                scene.add(ambientLight);

                const pointLight = new THREE.PointLight(0x39FF14, 2, 30);
                pointLight.position.set(0, 5, 5);
                scene.add(pointLight);

                const dirLight = new THREE.DirectionalLight(0xffffff, 0.5);
                dirLight.position.set(10, 10, 10);
                scene.add(dirLight);

                // --- RING OF ASSETS ---
                const ringGroup = new THREE.Group();
                scene.add(ringGroup);

                // Texture Loader
                const texLoader = new THREE.TextureLoader();

                const planeGeo = new THREE.PlaneGeometry(1.6, 2.2);

                for (let i = 1; i <= ASSET_COUNT; i++) {
                    const angle = (i / ASSET_COUNT) * Math.PI * 2;
                    const x = Math.cos(angle) * RADIUS;
                    const z = Math.sin(angle) * RADIUS;

                    // Create material first without texture
                    const mat = new THREE.MeshPhysicalMaterial({
                        color: 0xffffff,
                        transparent: true,
                        side: THREE.DoubleSide,
                        roughness: 0.2,
                        metalness: 0.1,
                        transmission: 0.0,
                        opacity: 1.0
                    });

                    // Load texture with error handling
                    texLoader.load(
                        i + '.png',
                        (tex) => {
                            tex.encoding = THREE.sRGBEncoding;
                            mat.map = tex;
                            mat.needsUpdate = true;
                        },
                        undefined,
                        (err) => {
                            console.warn(`Texture ${i}.png failed to load`);
                        }
                    );

                    const card = new THREE.Mesh(planeGeo, mat);

                    // Position
                    card.position.set(x, 0, z);

                    // Look outward
                    card.lookAt(0, 0, 0);
                    card.rotateY(Math.PI); // Flip to face out

                    // Add Green Accent Bar (Bottom)
                    const barGeo = new THREE.PlaneGeometry(1.6, 0.05);
                    const barMat = new THREE.MeshBasicMaterial({ color: 0x39FF14 });
                    const bar = new THREE.Mesh(barGeo, barMat);
                    bar.position.y = -1.1; // Bottom edge
                    bar.position.z = 0.01;
                    card.add(bar);

                    // User Data for Hover
                    card.userData = {
                        id: i,
                        originalY: 0
                    };

                    ringGroup.add(card);
                }

                // --- PARTICLES (ENHANCED) ---
                const particlesGeo = new THREE.BufferGeometry();
                const posArray = new Float32Array(PARTICLE_COUNT * 3);
                const sizeArray = new Float32Array(PARTICLE_COUNT);

                for (let i = 0; i < PARTICLE_COUNT * 3; i += 3) {
                    posArray[i] = (Math.random() - 0.5) * 50; // Wider
                    posArray[i + 1] = (Math.random() - 0.5) * 30;
                    posArray[i + 2] = (Math.random() - 0.5) * 50;
                    sizeArray[i / 3] = Math.random() * 0.05 + 0.02;
                }
                particlesGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
                particlesGeo.setAttribute('size', new THREE.BufferAttribute(sizeArray, 1));

                const particlesMat = new THREE.PointsMaterial({
                    size: 0.04,
                    color: 0x111111,
                    transparent: true,
                    opacity: 0.4
                });
                const particleSystem = new THREE.Points(particlesGeo, particlesMat);
                scene.add(particleSystem);

                // --- ANIMATION ---
                const clock = new THREE.Clock();
                let mouseX = 0, mouseY = 0;

                ringGroup.rotation.x = 0.15;
                ringGroup.rotation.z = -0.05;

                container.addEventListener('mousemove', (e) => {
                    const rect = container.getBoundingClientRect();
                    mouseX = ((e.clientX - rect.left) / width) * 2 - 1;
                    mouseY = -((e.clientY - rect.top) / height) * 2 + 1;
                });

                // GSAP Scroll Integration
                if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {
                    gsap.to(ringGroup.rotation, {
                        y: Math.PI * 0.7,
                        ease: 'none',
                        scrollTrigger: {
                            trigger: '#sectionUniverse',
                            start: 'top bottom',
                            end: 'bottom top',
                            scrub: 1.5
                        }
                    });
                    gsap.to(particleSystem.rotation, {
                        y: Math.PI * 0.2,
                        ease: 'none',
                        scrollTrigger: {
                            trigger: '#sectionUniverse',
                            start: 'top bottom',
                            end: 'bottom top',
                            scrub: 2
                        }
                    });
                    gsap.from(ringGroup.scale, {
                        x: 0.8, y: 0.8, z: 0.8,
                        duration: 1.5,
                        ease: 'power3.out',
                        scrollTrigger: {
                            trigger: '#sectionUniverse',
                            start: 'top 60%'
                        }
                    });
                }

                function animate() {
                    requestAnimationFrame(animate);
                    const time = clock.getElapsedTime();

                    // 1. Floating Cards
                    ringGroup.children.forEach((child) => {
                        if (child.userData.randomOffset !== undefined) {
                            const floatY = Math.sin(time * 1.5 + child.userData.randomOffset) * 0.15;
                            child.position.y = child.userData.initialY + floatY;
                        }
                    });

                    // 2. Global Float
                    ringGroup.position.y = Math.sin(time * 0.4) * 0.2;
                    particleSystem.rotation.x = Math.sin(time * 0.05) * 0.05;

                    if (!isMobile) {
                        camera.position.x += (mouseX * 0.5 - camera.position.x) * 0.05;
                        camera.position.y += (mouseY * 0.5 - camera.position.y) * 0.05;
                        camera.lookAt(0, 0, 0);
                    }

                    renderer.render(scene, camera);
                }
                animate();

                window.addEventListener('resize', () => {
                    width = container.clientWidth;
                    height = container.clientHeight;
                    camera.aspect = width / height;
                    camera.updateProjectionMatrix();
                    renderer.setSize(width, height);
                });
            })();
        });
    </script>
    <script src="token_visual.js"></script>
    <script src="manifesto_bg.js"></script>
    <script src="footer_grid.js"></script>

    <!-- Beats Player Script -->
    <script>
        (function() {
            const beatsBtn = document.getElementById('beatsPlayBtn');
            const beatsAudio = document.getElementById('beatsAudio');
            const playIcon = beatsBtn.querySelector('.play-icon');
            const pauseIcon = beatsBtn.querySelector('.pause-icon');

            beatsBtn.addEventListener('click', function() {
                if (beatsAudio.paused) {
                    beatsAudio.play();
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                    beatsBtn.classList.add('playing');
                    beatsBtn.title = 'Pause beats';
                } else {
                    beatsAudio.pause();
                    playIcon.style.display = 'block';
                    pauseIcon.style.display = 'none';
                    beatsBtn.classList.remove('playing');
                    beatsBtn.title = 'Play beats';
                }
            });
        })();
    </script>

    <!-- Mobile Video Optimizer Script -->
    <script>
        (function() {
            // Only apply on mobile screens (768px or less)
            if (window.innerWidth <= 768) {
                const videoMappings = {
                    'jarvis3_optimized.mp4': 'jarvis3_mobile.mp4',
                    'jarvis3_optimized.webm': 'jarvis3_mobile.mp4',
                    'jarvis2_optimized.mp4': 'jarvis2_mobile.mp4',
                    'jarvis2_optimized.webm': 'jarvis2_mobile.mp4',
                    'section2-1_optimized.mp4': 'section2-1_mobile.mp4',
                    'section2-1.webm': 'section2-1_mobile.mp4',
                    'section2-2_optimized.mp4': 'section2-2_mobile.mp4',
                    'section2-2.webm': 'section2-2_mobile.mp4',
                    'data.mp4': 'data_mobile.mp4'
                };

                // Find all video sources and update them
                document.querySelectorAll('video source').forEach(source => {
                    const src = source.getAttribute('src');
                    if (videoMappings[src]) {
                        source.setAttribute('src', videoMappings[src]);
                        source.setAttribute('type', 'video/mp4');
                    }
                });

                // Reload videos to apply new sources
                document.querySelectorAll('video').forEach(video => {
                    video.load();
                });

                console.log('Mobile video optimization applied');
            }
        })();
    </script>

    <!-- Lazy Loading & Intersection Observer for Videos and Images -->
    <script>
        (function() {
            // Add loading="lazy" to all images
            document.querySelectorAll('img:not([loading])').forEach(function(img) {
                img.setAttribute('loading', 'lazy');
            });

            // Intersection Observer for lazy videos
            if ('IntersectionObserver' in window) {
                var videoObserver = new IntersectionObserver(function(entries) {
                    entries.forEach(function(entry) {
                        var video = entry.target;
                        if (entry.isIntersecting) {
                            video.play().catch(function() {});
                        } else {
                            video.pause();
                        }
                    });
                }, { rootMargin: '200px' });

                document.querySelectorAll('.lazy-video').forEach(function(v) {
                    videoObserver.observe(v);
                });
            }

            // Pause off-screen Three.js animations via visibility observer
            if ('IntersectionObserver' in window) {
                var threeObserver = new IntersectionObserver(function(entries) {
                    entries.forEach(function(entry) {
                        var section = entry.target;
                        if (entry.isIntersecting) {
                            section.dataset.visible = 'true';
                        } else {
                            section.dataset.visible = 'false';
                        }
                    });
                }, { rootMargin: '100px' });

                var threeSections = document.querySelectorAll('#sectionUniverse, #sectionToken, .token-visual-container');
                threeSections.forEach(function(s) {
                    threeObserver.observe(s);
                });
            }

            // MOBILE: Hide hero video layer once hero scrolls out of view
            // Prevents GPU compositor bleed on older Android devices
            var isMobileDevice = window.matchMedia('(max-width: 768px)').matches;
            if (isMobileDevice && 'IntersectionObserver' in window) {
                var viewportLayer = document.querySelector('.viewport-layer');
                var heroSection = document.querySelector('.hero-section');
                if (viewportLayer && heroSection) {
                    var heroObserver = new IntersectionObserver(function(entries) {
                        entries.forEach(function(entry) {
                            if (entry.isIntersecting) {
                                viewportLayer.classList.remove('video-hidden');
                            } else {
                                viewportLayer.classList.add('video-hidden');
                            }
                        });
                    }, { threshold: 0, rootMargin: '50px' });
                    heroObserver.observe(heroSection);
                }
            }
        })();
    </script>
</body>

</html>
